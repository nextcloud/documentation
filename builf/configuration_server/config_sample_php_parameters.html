

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration Parameters &mdash; Nextcloud latest Administration Manual latest documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=bad88653" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/general.css?v=c0a7eb24" />
      <link rel="stylesheet" type="text/css" href="../_static/dark_mode_css/dark.css?v=70edf1c7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=f4332903"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/dark_mode_js/default_light.js?v=c2e647ce"></script>
      <script src="../_static/dark_mode_js/theme_switcher.js?v=358d3910"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Activity app" href="activity_configuration.html" />
    <link rel="prev" title="Warnings on admin page" href="security_setup_warnings.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../contents.html">
            
              <img src="../_static/logo-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_schedule.html">Maintenance and release schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation and server configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Nextcloud configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="security_setup_warnings.html">Warnings on admin page</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading">Loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#format">Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#types-of-values">Types of Values</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#modifying">Modifying</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defaults">Defaults</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-merged-configuration-files">Multiple/Merged Configuration Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#default-parameters">Default Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#instanceid">instanceid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#passwordsalt">passwordsalt</a></li>
<li class="toctree-l4"><a class="reference internal" href="#secret">secret</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trusted-domains">trusted_domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="#datadirectory">datadirectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version">version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbtype">dbtype</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbhost">dbhost</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbname">dbname</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbuser">dbuser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbpassword">dbpassword</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbtableprefix">dbtableprefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbpersistent">dbpersistent</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dbreplica">dbreplica</a></li>
<li class="toctree-l4"><a class="reference internal" href="#db-log-request-id">db.log_request_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installed">installed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-experience">User Experience</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#default-language">default_language</a></li>
<li class="toctree-l4"><a class="reference internal" href="#force-language">force_language</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-locale">default_locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reduce-to-languages">reduce_to_languages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-phone-region">default_phone_region</a></li>
<li class="toctree-l4"><a class="reference internal" href="#force-locale">force_locale</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-timezone">default_timezone</a></li>
<li class="toctree-l4"><a class="reference internal" href="#knowledgebaseenabled">knowledgebaseenabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#knowledgebase-embedded">knowledgebase.embedded</a></li>
<li class="toctree-l4"><a class="reference internal" href="#allow-user-to-change-display-name">allow_user_to_change_display_name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skeletondirectory">skeletondirectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#templatedirectory">templatedirectory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-session">User session</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#remember-login-cookie-lifetime">remember_login_cookie_lifetime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#session-lifetime">session_lifetime</a></li>
<li class="toctree-l4"><a class="reference internal" href="#davstorage-request-timeout">davstorage.request_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#carddav-sync-request-timeout">carddav_sync_request_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#session-relaxed-expiry">session_relaxed_expiry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#session-keepalive">session_keepalive</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auto-logout">auto_logout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#token-auth-enforced">token_auth_enforced</a></li>
<li class="toctree-l4"><a class="reference internal" href="#token-auth-activity-update">token_auth_activity_update</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-bruteforce-protection-enabled">auth.bruteforce.protection.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-bruteforce-protection-force-database">auth.bruteforce.protection.force.database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-bruteforce-protection-testing">auth.bruteforce.protection.testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-bruteforce-max-attempts">auth.bruteforce.max-attempts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ratelimit-protection-enabled">ratelimit.protection.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-webauthn-enabled">auth.webauthn.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-storecryptedpassword">auth.storeCryptedPassword</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hide-login-form">hide_login_form</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lost-password-link">lost_password_link</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logo-url">logo_url</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mail-parameters">Mail Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mail-domain">mail_domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-from-address">mail_from_address</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpdebug">mail_smtpdebug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpmode">mail_smtpmode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtphost">mail_smtphost</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpport">mail_smtpport</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtptimeout">mail_smtptimeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpsecure">mail_smtpsecure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpauth">mail_smtpauth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpname">mail_smtpname</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtppassword">mail_smtppassword</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-template-class">mail_template_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-send-plaintext-only">mail_send_plaintext_only</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-smtpstreamoptions">mail_smtpstreamoptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mail-sendmailmode">mail_sendmailmode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#proxy-configurations">Proxy Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overwritehost">overwritehost</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwriteprotocol">overwriteprotocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwritewebroot">overwritewebroot</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwritecondaddr">overwritecondaddr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overwrite-cli-url">overwrite.cli.url</a></li>
<li class="toctree-l4"><a class="reference internal" href="#htaccess-rewritebase">htaccess.RewriteBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="#htaccess-ignorefrontcontroller">htaccess.IgnoreFrontController</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxy">proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyuserpwd">proxyuserpwd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyexclude">proxyexclude</a></li>
<li class="toctree-l4"><a class="reference internal" href="#allow-local-remote-servers">allow_local_remote_servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deleted-items-trash-bin">Deleted Items (trash bin)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trashbin-retention-obligation">trashbin_retention_obligation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#file-versions">File versions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#versions-retention-obligation">versions_retention_obligation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nextcloud-verifications">Nextcloud Verifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#appcodechecker">appcodechecker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updatechecker">updatechecker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater-server-url">updater.server.url</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updater-release-channel">updater.release.channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#has-internet-connection">has_internet_connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connectivity-check-domains">connectivity_check_domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check-for-working-wellknown-setup">check_for_working_wellknown_setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check-for-working-htaccess">check_for_working_htaccess</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check-data-directory-permissions">check_data_directory_permissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#config-is-read-only">config_is_read_only</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logging">Logging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#log-type">log_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-type-audit">log_type_audit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logfile">logfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logfile-audit">logfile_audit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logfilemode">logfilemode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loglevel">loglevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loglevel-frontend">loglevel_frontend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loglevel-dirty-database-queries">loglevel_dirty_database_queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syslog-tag">syslog_tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syslog-tag-audit">syslog_tag_audit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-condition">log.condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-backtrace">log.backtrace</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logdateformat">logdateformat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logtimezone">logtimezone</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-query">log_query</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-rotate-size">log_rotate_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#profiler">profiler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#alternate-code-locations">Alternate Code Locations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#customclient-desktop">customclient_desktop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#apps">Apps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defaultapp">defaultapp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#appstoreenabled">appstoreenabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#appstoreurl">appstoreurl</a></li>
<li class="toctree-l4"><a class="reference internal" href="#appsallowlist">appsallowlist</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apps-paths">apps_paths</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#previews">Previews</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#enable-previews">enable_previews</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-concurrency-all">preview_concurrency_all</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-concurrency-new">preview_concurrency_new</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-max-x">preview_max_x</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-max-y">preview_max_y</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-max-filesize-image">preview_max_filesize_image</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-max-memory">preview_max_memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-libreoffice-path">preview_libreoffice_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-ffmpeg-path">preview_ffmpeg_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-imaginary-url">preview_imaginary_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="#preview-imaginary-key">preview_imaginary_key</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enabledpreviewproviders">enabledPreviewProviders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata-max-filesize">metadata_max_filesize</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ldap">LDAP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ldapusercleanupinterval">ldapUserCleanupInterval</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sort-groups-by-name">sort_groups_by_name</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#comments">Comments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#comments-managerfactory">comments.managerFactory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#systemtags-managerfactory">systemtags.managerFactory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maintenance">Maintenance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">maintenance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maintenance-window-start">maintenance_window_start</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ldap-log-file">ldap_log_file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ssl">SSL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#openssl">openssl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#memory-caching-backend-configuration">Memory caching backend configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#memcache-local">memcache.local</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memcache-distributed">memcache.distributed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis">redis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-cluster">redis.cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memcached-servers">memcached_servers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memcached-options">memcached_options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cache-path">cache_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cache-chunk-gc-ttl">cache_chunk_gc_ttl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-object-store-with-nextcloud">Using Object Store with Nextcloud</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#objectstore">objectstore</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">objectstore</a></li>
<li class="toctree-l4"><a class="reference internal" href="#objectstore-multibucket-preview-distribution">objectstore.multibucket.preview-distribution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sharing">Sharing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sharing-managerfactory">sharing.managerFactory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-enable-mail-link-password-expiration">sharing.enable_mail_link_password_expiration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-mail-link-password-expiration-interval">sharing.mail_link_password_expiration_interval</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-maxautocompleteresults">sharing.maxAutocompleteResults</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-minsearchstringlength">sharing.minSearchStringLength</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-enable-share-accept">sharing.enable_share_accept</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-force-share-accept">sharing.force_share_accept</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-allow-custom-share-folder">sharing.allow_custom_share_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#share-folder">share_folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-enable-share-mail">sharing.enable_share_mail</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sharing-allow-disabled-password-enforcement-groups">sharing.allow_disabled_password_enforcement_groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="#transferincomingshares">transferIncomingShares</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#federated-cloud-sharing">Federated Cloud Sharing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sharing-federation-allowselfsignedcertificates">sharing.federation.allowSelfSignedCertificates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hashing">Hashing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hashing-default-password">hashing_default_password</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashingthreads">hashingThreads</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashingmemorycost">hashingMemoryCost</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashingtimecost">hashingTimeCost</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hashingcost">hashingCost</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#all-other-configuration-options">All other configuration options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dbdriveroptions">dbdriveroptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sqlite-journal-mode">sqlite.journal_mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mysql-utf8mb4">mysql.utf8mb4</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mysql-collation">mysql.collation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supporteddatabases">supportedDatabases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tempdirectory">tempdirectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updatedirectory">updatedirectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forbidden-filenames">forbidden_filenames</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forbidden-filename-basenames">forbidden_filename_basenames</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forbidden-filename-characters">forbidden_filename_characters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forbidden-filename-extensions">forbidden_filename_extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#theme">theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enforce-theme">enforce_theme</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cipher">cipher</a></li>
<li class="toctree-l4"><a class="reference internal" href="#encryption-use-legacy-base64-encoding">encryption.use_legacy_base64_encoding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimum-supported-desktop-version">minimum.supported.desktop.version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maximum-supported-desktop-version">maximum.supported.desktop.version</a></li>
<li class="toctree-l4"><a class="reference internal" href="#localstorage-allowsymlinks">localstorage.allowsymlinks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#localstorage-umask">localstorage.umask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#localstorage-unlink-on-truncate">localstorage.unlink_on_truncate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#quota-include-external-storage">quota_include_external_storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-storage-auth-availability-delay">external_storage.auth_availability_delay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-external-allow-create-new-local">files_external_allow_create_new_local</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem-check-changes">filesystem_check_changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#part-file-in-storage">part_file_in_storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mount-file">mount_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filesystem-cache-readonly">filesystem_cache_readonly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trusted-proxies">trusted_proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#forwarded-for-headers">forwarded_for_headers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#allowed-admin-ranges">allowed_admin_ranges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#max-filesize-animated-gifs-public-sharing">max_filesize_animated_gifs_public_sharing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filelocking-ttl">filelocking.ttl</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memcache-locking">memcache.locking</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filelocking-debug">filelocking.debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-disable-web">upgrade.disable-web</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-cli-upgrade-link">upgrade.cli-upgrade-link</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documentation-url-server-logs">documentation_url.server_logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debug">debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#data-fingerprint">data-fingerprint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#copied-sample-config">copied_sample_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lookup-server">lookup_server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gs-enabled">gs.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gs-federation">gs.federation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#csrf-optout">csrf.optout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simplesignuplink-shown">simpleSignUpLink.shown</a></li>
<li class="toctree-l4"><a class="reference internal" href="#login-form-autocomplete">login_form_autocomplete</a></li>
<li class="toctree-l4"><a class="reference internal" href="#login-form-timeout">login_form_timeout</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-unsupported-browser-warning">no_unsupported_browser_warning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-no-background-scan">files_no_background_scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="#query-log-file">query_log_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-log-file">redis_log_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostics-logging">diagnostics.logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostics-logging-threshold">diagnostics.logging.threshold</a></li>
<li class="toctree-l4"><a class="reference internal" href="#profile-enabled">profile.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#account-manager-default-property-scope">account_manager.default_property_scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="#projects-enabled">projects.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bulkupload-enabled">bulkupload.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reference-opengraph">reference_opengraph</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unified-search-enabled">unified_search.enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-non-accessible-features">enable_non-accessible_features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binary-search-paths">binary_search_paths</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-chunked-upload-max-size">files.chunked_upload.max_size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-chunked-upload-max-parallel-count">files.chunked_upload.max_parallel_count</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#app-config-options">App config options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#activity-app">Activity app</a></li>
<li class="toctree-l4"><a class="reference internal" href="#settings-app">Settings app</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="activity_configuration.html">Activity app</a></li>
<li class="toctree-l2"><a class="reference internal" href="admin_delegation_configuration.html">Administration privileges (Delegation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="antivirus_configuration.html">Antivirus scanner</a></li>
<li class="toctree-l2"><a class="reference internal" href="automatic_configuration.html">Automatic setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="background_jobs_configuration.html">Background jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="bruteforce_configuration.html">Brute force protection</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching_configuration.html">Memory caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard_configuration.html">Dashboard app</a></li>
<li class="toctree-l2"><a class="reference internal" href="domain_change.html">Domain Change</a></li>
<li class="toctree-l2"><a class="reference internal" href="email_configuration.html">Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="external_sites.html">Linking external sites</a></li>
<li class="toctree-l2"><a class="reference internal" href="language_configuration.html">Language &amp; Locale</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging_configuration.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="oauth2.html">OAuth2</a></li>
<li class="toctree-l2"><a class="reference internal" href="reverse_proxy_configuration.html">Reverse proxy</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_configuration.html">Text app</a></li>
<li class="toctree-l2"><a class="reference internal" href="theming.html">Theming</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../occ_command.html">Using the occ command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps_management.html">Apps management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exapps_management/index.html">ExApps management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_user/index.html">User management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_files/index.html">File sharing and management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../file_workflows/index.html">Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../groupware/index.html">Groupware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../office/index.html">Office</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ai/index.html">Artificial Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webhook_listeners/index.html">Webhook Listeners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windmill_workflows/index.html">Windmill Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_database/index.html">Database configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_mimetypes/index.html">Mimetypes management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../issues/index.html">Issues and troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gdpr/index.html">GDPR-compliance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Nextcloud latest Administration Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Nextcloud configuration</a></li>
      <li class="breadcrumb-item active">Configuration Parameters</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nextcloud/documentation/edit/master/admin_manual/configuration_server/config_sample_php_parameters.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="configuration-parameters">
<h1>Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>Nextcloud uses <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> as its main configuration file. This file controls
various fundamental aspects of server operations. It is typically modified as part of initial
deployment, when troubleshooting, and when making adjustments to surrounding infrastructure.</p>
<p>This is a required file for all Nextcloud deployments and thus it is critical for Nextcloud
administrators to be familiar with managing it.</p>
<p>This section of the <em>Administration Manual</em> documents how to adjust this essential file,
certain special characteristics of the <code class="docutils literal notranslate"><span class="pre">config/</span></code> directory, and all of the supported
parameters that can be specified in a <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> is a required file, many Nextcloud or Nextcloud app
settings are managed elsewhere and thus not included in it. These settings are typically
managed via individual apps.</p>
</div>
</section>
<section id="loading">
<h2>Loading<a class="headerlink" href="#loading" title="Link to this heading"></a></h2>
<p>Configuration files located in <code class="docutils literal notranslate"><span class="pre">config/</span></code> are parsed automatically when Nextcloud
starts up. They are also checked for changes periodically (approximately every two seconds
in a standard PHP environment running with default <em>OPcache</em> settings; approximately every
sixty seconds in many pre-packaged Nextcloud installation methods).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> file may be supplemented by additional <code class="docutils literal notranslate"><span class="pre">*.config.php</span></code> files
placed in the <code class="docutils literal notranslate"><span class="pre">config/</span></code> directory (if appropriately named and formatted).</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Be cautious when naming or creating backup copies of your active
<code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>. If a backup is located within <code class="docutils literal notranslate"><span class="pre">config/</span></code> and is named
<code class="docutils literal notranslate"><span class="pre">(ANYTHING).config.php</span></code>, it will be loaded as part of your live configuration
and override your <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> values!</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If your configuration changes don’t seem to be taking effect, check: (a) your PHP opcache
configuration; (b) for additional <code class="docutils literal notranslate"><span class="pre">*.config.php</span></code> files located in <code class="docutils literal notranslate"><span class="pre">config/</span></code>; (c) the documentation
for your Nextcloud installation method/package; (d) the output of <code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:list</span> <span class="pre">system</span></code>.</p>
</div>
</section>
<section id="format">
<h2>Format<a class="headerlink" href="#format" title="Link to this heading"></a></h2>
<p>The short answer is that <code class="docutils literal notranslate"><span class="pre">config/</span></code> files are plain text files with some special formatting
requirements for different types of parameters and values. This makes it extensible and easy for
Nextcloud to interact with. It also makes it easy for administartors to view with any text viewer
and from the command-line.</p>
<p>Technically these configuration files are PHP files containing a special (to Nextcloud) PHP array
called <code class="docutils literal notranslate"><span class="pre">$CONFIG</span></code>. This array consists of various Nextcloud specific “key-value” pairs (in some cases
arrays themselves). Each pair has the form <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">value</span></code> and is comma-separated.</p>
<section id="types-of-values">
<h3>Types of Values<a class="headerlink" href="#types-of-values" title="Link to this heading"></a></h3>
<p>Strings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;thisIsAnImportantValue&quot;</span></code></p></li>
<li><p>Note: These must be either single or double quoted - i.e. <code class="docutils literal notranslate"><span class="pre">&quot;string&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">'string'</span></code>.</p></li>
<li><p>Note: IP addresses are considered strings.</p></li>
<li><dl class="simple">
<dt>Examples:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'logo_url'</span> <span class="pre">=&gt;</span> <span class="pre">'https://example.org',</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'versions_retention_obligation'</span> <span class="pre">=&gt;</span> <span class="pre">'auto,</span> <span class="pre">D',</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'logtimezone'</span> <span class="pre">=&gt;</span> <span class="pre">'Europe/Berlin',</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Boolean:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p>Note: These should <strong>not</strong> be surrounded by quote marks within the configuration file itself.</p></li>
<li><dl class="simple">
<dt>Examples:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'session_keepalive'</span> <span class="pre">=&gt;</span> <span class="pre">true,</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'hide_login_form'</span> <span class="pre">=&gt;</span> <span class="pre">false,</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Numerical:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">12</span></code></p></li>
<li><p>This includes both integers and floating point numbers.</p></li>
<li><p>Note: These should <strong>not</strong> be surrounded by quote marks within the configuration file itself.</p></li>
<li><dl class="simple">
<dt>Examples:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'loglevel'</span> <span class="pre">=&gt;</span> <span class="pre">2,</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'session_lifetime'</span> <span class="pre">=&gt;</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">60</span> <span class="pre">*</span> <span class="pre">24,</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Arrays of any of the above types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">'value1',</span> <span class="pre">'value2'</span> <span class="pre">]</span></code></p></li>
<li><p>All value types (including other arrays) can be included in arrays.</p></li>
<li><p>Note: Only some parameters support array style values.</p></li>
<li><dl class="simple">
<dt>Examples:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'connectivity_check_domains'</span> <span class="pre">=&gt;</span> <span class="pre">[</span> <span class="pre">'www.nextcloud.com',</span> <span class="pre">'www.eff.org',</span> <span class="pre">],</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'enabledPreviewProviders'</span> <span class="pre">=&gt;</span> <span class="pre">[</span> <span class="pre">'OC\Preview\BMP',</span> <span class="pre">'OC\Preview\GIF',</span> <span class="pre">'OC\Preview\JPEG',</span> <span class="pre">],</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Nextcloud attempts to remedy some value type/formatting mistakes, but this is not foolproof.
Use the correct formatting (for the type of value in question) to avoid unexpected results arising
from values being cast in unexpected ways.</p>
</div>
</section>
</section>
<section id="modifying">
<h2>Modifying<a class="headerlink" href="#modifying" title="Link to this heading"></a></h2>
<p>Parameters may be modified in a standard text editor (i.e. via the command-line or externally
then re-uploaded). They may also, in most cases, be modified using the commands in
the <code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:system:*</span></code> namespace.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Incorrectly formatted <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">value</span></code> entries (or incorrectly specified values) may
not generate immediate errors or problems (such as parsing / syntax errors), but may still
lead to unexpected and undesirable results. Review your fully parsed (by PHP) configuration
by using the command <code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:list</span> <span class="pre">system</span></code> and/or <code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:list</span> <span class="pre">system</span> <span class="pre">--private</span></code>
to identify anything unexpected.</p>
</div>
</section>
<section id="defaults">
<h2>Defaults<a class="headerlink" href="#defaults" title="Link to this heading"></a></h2>
<p>Nextcloud creates a base <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> file at installation time containing the most
essential parameters for operations. These values are a mixture of auto-generated and drawn from
information provided by the administrator at installation time.</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">config/config.sample.php</span></code> lists all the parameters within Nextcloud that can be
specified in <code class="docutils literal notranslate"><span class="pre">config/</span></code> files, along with example and default values for each. The content of
that sample configuration file is included <a class="reference internal" href="#config-php-sample"><span class="std std-ref">below</span></a> for ease of reference
and alongside additional context.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Only add parameters to <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> that you wish to modify.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Do not copy everything from <code class="docutils literal notranslate"><span class="pre">config/config.sample.php</span></code> into your own
<code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>! Besides being unnecessary, it will break things and possibly even
require re-installation.</p>
</div>
</section>
<section id="multiple-merged-configuration-files">
<h2>Multiple/Merged Configuration Files<a class="headerlink" href="#multiple-merged-configuration-files" title="Link to this heading"></a></h2>
<p>Nextcloud supports loading configuration parameters from multiple files. You can add arbitrary
files ending with <code class="docutils literal notranslate"><span class="pre">.config.php*</span></code> (i.e. <code class="docutils literal notranslate"><span class="pre">*.config.php</span></code>) in the <code class="docutils literal notranslate"><span class="pre">config/</span></code> directory. The values
in these files take precedence over <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>. This allows you to easily create and
manage custom configurations, or to divide a large complex configuration file into a set of smaller files.
These custom files are not overwritten by Nextcloud.</p>
<p>For example, you could place your email server configuration in <code class="docutils literal notranslate"><span class="pre">config/email.config.php</span></code> and
whatever parameters you specify in it will be merged with your <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The values in these additional configuration files <strong>always</strong> take precedence over
<code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To view your fully merged configuration (i.e. incorporating all config files), use
<code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:list</span> <span class="pre">system</span></code> and/or <code class="docutils literal notranslate"><span class="pre">occ</span> <span class="pre">config:list</span> <span class="pre">system</span> <span class="pre">--private</span></code>.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Be cautious when naming or creating backup copies of your active
<code class="docutils literal notranslate"><span class="pre">config/config.php</span></code>. If a backup config file is located within <code class="docutils literal notranslate"><span class="pre">config/</span></code> and happens to be
named <code class="docutils literal notranslate"><span class="pre">(ANYTHING).config.php</span></code>, it will be loaded as part of your live configuration and override
your <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> values!</p>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>These are some examples of the content of typical <code class="docutils literal notranslate"><span class="pre">config/config.php</span></code> files immediately after
a basic installation of Nextcloud.</p>
<p>When you use SQLite as your Nextcloud database, your <code class="docutils literal notranslate"><span class="pre">config.php</span></code> looks like
this after installation. The SQLite database is stored in your Nextcloud
<code class="docutils literal notranslate"><span class="pre">data/</span></code> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?php
$CONFIG = array (
  &#39;instanceid&#39; =&gt; &#39;occ6f7365735&#39;,
  &#39;passwordsalt&#39; =&gt; &#39;2c5778476346786306303&#39;,
  &#39;trusted_domains&#39; =&gt;
  array (
    0 =&gt; &#39;localhost&#39;,
    1 =&gt; &#39;studio&#39;,
  ),
  &#39;datadirectory&#39; =&gt; &#39;/var/www/nextcloud/data&#39;,
  &#39;dbtype&#39; =&gt; &#39;sqlite3&#39;,
  &#39;version&#39; =&gt; &#39;7.0.2.1&#39;,
  &#39;installed&#39; =&gt; true,
);
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SQLite is a simple, lightweight embedded database that is fine for testing
and simple installations, but production environments you should use MySQL/MariaDB,
Oracle, or PosgreSQL.</p>
</div>
<p>This example is from a new Nextcloud installation using MariaDB:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?php
$CONFIG = array (
  &#39;instanceid&#39; =&gt; &#39;oc8c0fd71e03&#39;,
  &#39;passwordsalt&#39; =&gt; &#39;515a13302a6b3950a9d0fdb970191a&#39;,
  &#39;trusted_domains&#39; =&gt;
  array (
    0 =&gt; &#39;localhost&#39;,
    1 =&gt; &#39;studio&#39;,
    2 =&gt; &#39;192.168.10.155&#39;
  ),
  &#39;datadirectory&#39; =&gt; &#39;/var/www/nextcloud/data&#39;,
  &#39;dbtype&#39; =&gt; &#39;mysql&#39;,
   &#39;version&#39; =&gt; &#39;7.0.2.1&#39;,
  &#39;dbname&#39; =&gt; &#39;nextcloud&#39;,
  &#39;dbhost&#39; =&gt; &#39;localhost&#39;,
  &#39;dbtableprefix&#39; =&gt; &#39;oc_&#39;,
  &#39;dbuser&#39; =&gt; &#39;oc_carla&#39;,
  &#39;dbpassword&#39; =&gt; &#39;67336bcdf7630dd80b2b81a413d07&#39;,
  &#39;installed&#39; =&gt; true,
);
</pre></div>
</div>
</section>
<section id="default-parameters">
<h2>Default Parameters<a class="headerlink" href="#default-parameters" title="Link to this heading"></a></h2>
<p>These parameters are configured by the Nextcloud installer, and are required
for your Nextcloud server to operate.</p>
<section id="instanceid">
<h3>instanceid<a class="headerlink" href="#instanceid" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;instanceid&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This is a unique identifier for your Nextcloud installation, created
automatically by the installer. This example is for documentation only,
and you should never use it because it will not work. A valid <code class="docutils literal notranslate"><span class="pre">instanceid</span></code>
is created when you install Nextcloud.</p>
<p>‘instanceid’ =&gt; ‘d3c944a9a’,</p>
</section>
<section id="passwordsalt">
<h3>passwordsalt<a class="headerlink" href="#passwordsalt" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;passwordsalt&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The salt used to hash all passwords, auto-generated by the Nextcloud
installer. (There are also per-user salts.) If you lose this salt you lose
all your passwords. This example is for documentation only, and you should
never use it.</p>
</section>
<section id="secret">
<h3>secret<a class="headerlink" href="#secret" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Secret used by Nextcloud for various purposes, e.g. to encrypt data. If you
lose this string there will be data corruption.</p>
</section>
<section id="trusted-domains">
<h3>trusted_domains<a class="headerlink" href="#trusted-domains" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;trusted_domains&#39;</span> <span class="o">=&gt;</span>
   <span class="p">[</span>
    <span class="s1">&#39;demo.example.org&#39;</span><span class="p">,</span>
    <span class="s1">&#39;otherdomain.example.org&#39;</span><span class="p">,</span>
    <span class="s1">&#39;10.111.112.113&#39;</span><span class="p">,</span>
    <span class="s1">&#39;[2001:db8::1]&#39;</span>
  <span class="p">],</span>
</pre></div>
</div>
<p>Your list of trusted domains that users can log into. Specifying trusted
domains prevents host header poisoning. Do not remove this, as it performs
necessary security checks.</p>
<p>You can specify:</p>
<ul class="simple">
<li><p>the exact hostname of your host or virtual host, e.g. demo.example.org.</p></li>
<li><p>the exact hostname with permitted port, e.g. demo.example.org:443.
This disallows all other ports on this host</p></li>
<li><p>use * as a wildcard, e.g. ubos-raspberry-pi*.local will allow
ubos-raspberry-pi.local and ubos-raspberry-pi-2.local</p></li>
<li><p>the IP address with or without permitted port, e.g. [2001:db8::1]:8080
Using TLS certificates where commonName=&lt;IP address&gt; is deprecated</p></li>
</ul>
</section>
<section id="datadirectory">
<h3>datadirectory<a class="headerlink" href="#datadirectory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;datadirectory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/www/nextcloud/data&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Where user files are stored. The SQLite database is also stored here, when
you use SQLite.</p>
<p>Default to <code class="docutils literal notranslate"><span class="pre">data/</span></code> in the Nextcloud directory.</p>
</section>
<section id="version">
<h3>version<a class="headerlink" href="#version" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;version&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The current version number of your Nextcloud installation. This is set up
during installation and update, so you shouldn’t need to change it.</p>
</section>
<section id="dbtype">
<h3>dbtype<a class="headerlink" href="#dbtype" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbtype&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sqlite3&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Identifies the database used with this installation. See also config option
<code class="docutils literal notranslate"><span class="pre">supportedDatabases</span></code></p>
<dl class="simple">
<dt>Available:</dt><dd><ul class="simple">
<li><p>sqlite3 (SQLite3)</p></li>
<li><p>mysql (MySQL/MariaDB)</p></li>
<li><p>pgsql (PostgreSQL)</p></li>
</ul>
</dd>
</dl>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code></p>
</section>
<section id="dbhost">
<h3>dbhost<a class="headerlink" href="#dbhost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbhost&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Your host server name, for example <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, <code class="docutils literal notranslate"><span class="pre">hostname</span></code>,
<code class="docutils literal notranslate"><span class="pre">hostname.example.com</span></code>, or the IP address.</p>
<p>To specify a port use <code class="docutils literal notranslate"><span class="pre">hostname:####</span></code>, for IPv6 addresses use the URI notation <code class="docutils literal notranslate"><span class="pre">[ip]:port</span></code>.
To specify a Unix socket use <code class="docutils literal notranslate"><span class="pre">/path/to/directory/containing/socket</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">/run/postgresql/</span></code>.</p>
</section>
<section id="dbname">
<h3>dbname<a class="headerlink" href="#dbname" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The name of the Nextcloud database, which is set during installation. You
should not need to change this.</p>
</section>
<section id="dbuser">
<h3>dbuser<a class="headerlink" href="#dbuser" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbuser&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The user that Nextcloud uses to write to the database. This must be unique
across Nextcloud instances using the same SQL database. This is set up during
installation, so you shouldn’t need to change it.</p>
</section>
<section id="dbpassword">
<h3>dbpassword<a class="headerlink" href="#dbpassword" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbpassword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The password for the database user. This is set up during installation, so
you shouldn’t need to change it.</p>
</section>
<section id="dbtableprefix">
<h3>dbtableprefix<a class="headerlink" href="#dbtableprefix" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbtableprefix&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;oc_&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Prefix for the Nextcloud tables in the database.</p>
<p>Default to <code class="docutils literal notranslate"><span class="pre">oc_</span></code></p>
</section>
<section id="dbpersistent">
<h3>dbpersistent<a class="headerlink" href="#dbpersistent" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbpersistent&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable persistent connexions to the database.</p>
<p>This setting uses the “persistent” option from doctrine dbal, which in turn
uses the PDO::ATTR_PERSISTENT option from the pdo driver.</p>
</section>
<section id="dbreplica">
<h3>dbreplica<a class="headerlink" href="#dbreplica" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbreplica&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;password1&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;replica1&#39;</span><span class="p">,</span> <span class="s1">&#39;dbname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
        <span class="p">[</span><span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;password2&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;replica2&#39;</span><span class="p">,</span> <span class="s1">&#39;dbname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Specify read only replicas to be used by Nextcloud when querying the database</p>
</section>
<section id="db-log-request-id">
<h3>db.log_request_id<a class="headerlink" href="#db-log-request-id" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;db.log_request_id&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Add request id to the database query in a comment.</p>
<p>This can be enabled to assist in mapping database logs to Nextcloud logs.</p>
</section>
<section id="installed">
<h3>installed<a class="headerlink" href="#installed" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;installed&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Indicates whether the Nextcloud instance was installed successfully; <code class="docutils literal notranslate"><span class="pre">true</span></code>
indicates a successful installation, and <code class="docutils literal notranslate"><span class="pre">false</span></code> indicates an unsuccessful
installation.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
<span class="target" id="config-php-sample"></span></section>
</section>
<section id="user-experience">
<h2>User Experience<a class="headerlink" href="#user-experience" title="Link to this heading"></a></h2>
<p>These optional parameters control some aspects of the user interface. Default
values, where present, are shown.</p>
<section id="default-language">
<h3>default_language<a class="headerlink" href="#default-language" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;default_language&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This sets the default language on your Nextcloud server, using ISO_639-1
language codes such as <code class="docutils literal notranslate"><span class="pre">en</span></code> for English, <code class="docutils literal notranslate"><span class="pre">de</span></code> for German, and <code class="docutils literal notranslate"><span class="pre">fr</span></code> for
French. The default_language parameter is only used, when the browser does
not send any language, and the user hasn’t configured own language
preferences.</p>
<p>Nextcloud has two distinguished language codes for German, ‘de’ and ‘de_DE’.
‘de’ is used for informal German and ‘de_DE’ for formal German. By setting
this value to ‘de_DE’ you can enforce the formal version of German unless
the user has chosen something different explicitly.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">en</span></code></p>
</section>
<section id="force-language">
<h3>force_language<a class="headerlink" href="#force-language" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;force_language&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>With this setting a language can be forced for all users. If a language is
forced, the users are also unable to change their language in the personal
settings. If users shall be unable to change their language, but users have
different languages, this value can be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> instead of a language
code.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="default-locale">
<h3>default_locale<a class="headerlink" href="#default-locale" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;default_locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en_US&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This sets the default locale on your Nextcloud server, using ISO_639
language codes such as <code class="docutils literal notranslate"><span class="pre">en</span></code> for English, <code class="docutils literal notranslate"><span class="pre">de</span></code> for German, and <code class="docutils literal notranslate"><span class="pre">fr</span></code> for
French, and ISO-3166 country codes such as <code class="docutils literal notranslate"><span class="pre">GB</span></code>, <code class="docutils literal notranslate"><span class="pre">US</span></code>, <code class="docutils literal notranslate"><span class="pre">CA</span></code>, as defined
in RFC 5646. It overrides automatic locale detection on public pages like
login or shared items. User’s locale preferences configured under “personal
-&gt; locale” override this setting after they have logged in.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">en</span></code></p>
</section>
<section id="reduce-to-languages">
<h3>reduce_to_languages<a class="headerlink" href="#reduce-to-languages" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reduce_to_languages&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>With this setting is possible to reduce the languages available in the
language chooser. The languages have to be set as array values using ISO_639-1
language codes such as <code class="docutils literal notranslate"><span class="pre">en</span></code> for English, <code class="docutils literal notranslate"><span class="pre">de</span></code> for German etc.</p>
<p>For example: Set to [‘de’, ‘fr’] to only allow German and French languages.</p>
</section>
<section id="default-phone-region">
<h3>default_phone_region<a class="headerlink" href="#default-phone-region" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;default_phone_region&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;GB&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This sets the default region for phone numbers on your Nextcloud server,
using ISO 3166-1 country codes such as <code class="docutils literal notranslate"><span class="pre">DE</span></code> for Germany, <code class="docutils literal notranslate"><span class="pre">FR</span></code> for France, …
It is required to allow inserting phone numbers in the user profiles starting
without the country code (e.g. +49 for Germany).</p>
<p>No default value!</p>
</section>
<section id="force-locale">
<h3>force_locale<a class="headerlink" href="#force-locale" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;force_locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en_US&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>With this setting a locale can be forced for all users. If a locale is
forced, the users are also unable to change their locale in the personal
settings. If users shall be unable to change their locale, but users have
different languages, this value can be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> instead of a locale
code.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="default-timezone">
<h3>default_timezone<a class="headerlink" href="#default-timezone" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;default_timezone&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Europe/Berlin&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This sets the default timezone on your Nextcloud server, using IANA
identifiers like <code class="docutils literal notranslate"><span class="pre">Europe/Berlin</span></code> or <code class="docutils literal notranslate"><span class="pre">Pacific/Auckland</span></code>. The default
timezone parameter is only used when the timezone of the user can’t be
determined.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">UTC</span></code></p>
</section>
<section id="knowledgebaseenabled">
<h3>knowledgebaseenabled<a class="headerlink" href="#knowledgebaseenabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;knowledgebaseenabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">true</span></code> enables the Help menu item in the user menu (top right of the
Nextcloud Web interface). <code class="docutils literal notranslate"><span class="pre">false</span></code> removes the Help item.</p>
</section>
<section id="knowledgebase-embedded">
<h3>knowledgebase.embedded<a class="headerlink" href="#knowledgebase-embedded" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;knowledgebase.embedded&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">true</span></code> embeds the documentation in an iframe inside Nextcloud.</p>
<p><code class="docutils literal notranslate"><span class="pre">false</span></code> only shows buttons to the online documentation.</p>
</section>
<section id="allow-user-to-change-display-name">
<h3>allow_user_to_change_display_name<a class="headerlink" href="#allow-user-to-change-display-name" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;allow_user_to_change_display_name&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">true</span></code> allows users to change their display names (on their Personal
pages), and <code class="docutils literal notranslate"><span class="pre">false</span></code> prevents them from changing their display names.</p>
</section>
<section id="skeletondirectory">
<h3>skeletondirectory<a class="headerlink" href="#skeletondirectory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;skeletondirectory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/nextcloud/core/skeleton&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The directory where the skeleton files are located. These files will be
copied to the data directory of new users. Leave empty to not copy any
skeleton files.</p>
<p><code class="docutils literal notranslate"><span class="pre">{lang}</span></code> can be used as a placeholder for the language of the user.
If the directory does not exist, it falls back to non dialect (from <code class="docutils literal notranslate"><span class="pre">de_DE</span></code>
to <code class="docutils literal notranslate"><span class="pre">de</span></code>). If that does not exist either, it falls back to <code class="docutils literal notranslate"><span class="pre">default</span></code></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">core/skeleton</span></code> in the Nextcloud directory.</p>
</section>
<section id="templatedirectory">
<h3>templatedirectory<a class="headerlink" href="#templatedirectory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;templatedirectory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/nextcloud/templates&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The directory where the template files are located. These files will be
copied to the template directory of new users. Leave empty to not copy any
template files.</p>
<p><code class="docutils literal notranslate"><span class="pre">{lang}</span></code> can be used as a placeholder for the language of the user.
If the directory does not exist, it falls back to non dialect (from <code class="docutils literal notranslate"><span class="pre">de_DE</span></code>
to <code class="docutils literal notranslate"><span class="pre">de</span></code>). If that does not exist either, it falls back to <code class="docutils literal notranslate"><span class="pre">default</span></code></p>
<p>If this is not set creating a template directory will only happen if no custom
<code class="docutils literal notranslate"><span class="pre">skeletondirectory</span></code> is defined, otherwise the shipped templates will be used
to create a template directory for the user.</p>
</section>
</section>
<section id="user-session">
<h2>User session<a class="headerlink" href="#user-session" title="Link to this heading"></a></h2>
<section id="remember-login-cookie-lifetime">
<h3>remember_login_cookie_lifetime<a class="headerlink" href="#remember-login-cookie-lifetime" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;remember_login_cookie_lifetime&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">15</span><span class="p">,</span>
</pre></div>
</div>
<p>Lifetime of the remember login cookie. This should be larger than the
session_lifetime. If it is set to 0 remember me is disabled.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">60*60*24*15</span></code> seconds (15 days)</p>
</section>
<section id="session-lifetime">
<h3>session_lifetime<a class="headerlink" href="#session-lifetime" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;session_lifetime&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span><span class="p">,</span>
</pre></div>
</div>
<p>The lifetime of a session after inactivity.</p>
<p>The maximum possible time is limited by the session.gc_maxlifetime php.ini setting
which would overwrite this option if it is less than the value in the config.php</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">60*60*24</span></code> seconds (24 hours)</p>
</section>
<section id="davstorage-request-timeout">
<h3>davstorage.request_timeout<a class="headerlink" href="#davstorage-request-timeout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;davstorage.request_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
</pre></div>
</div>
<p>The timeout in seconds for requests to servers made by the DAV component (e.g., needed for federated shares).</p>
</section>
<section id="carddav-sync-request-timeout">
<h3>carddav_sync_request_timeout<a class="headerlink" href="#carddav-sync-request-timeout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;carddav_sync_request_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">,</span>
</pre></div>
</div>
<p>The timeout in seconds for synchronizing address books, e.g. federated system address books (as run by <cite>occ federation:sync-addressbooks</cite>).</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">30</span></code> seconds</p>
</section>
<section id="session-relaxed-expiry">
<h3>session_relaxed_expiry<a class="headerlink" href="#session-relaxed-expiry" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;session_relaxed_expiry&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p><cite>true</cite> enabled a relaxed session timeout, where the session timeout would no longer be
handled by Nextcloud but by either the PHP garbage collection or the expiration of
potential other session backends like redis.</p>
<p>This may lead to sessions being available for longer than what session_lifetime uses but
comes with performance benefits as sessions are no longer a locking operation for concurrent
requests.</p>
</section>
<section id="session-keepalive">
<h3>session_keepalive<a class="headerlink" href="#session-keepalive" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;session_keepalive&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable or disable session keep-alive when a user is logged in to the Web UI.</p>
<p>Enabling this sends a “heartbeat” to the server to keep it from timing out.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="auto-logout">
<h3>auto_logout<a class="headerlink" href="#auto-logout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auto_logout&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable or disable the automatic logout after session_lifetime, even if session
keepalive is enabled. This will make sure that an inactive browser will log itself out
even if requests to the server might extend the session lifetime. Note: the logout is
handled on the client side. This is not a way to limit the duration of potentially
compromised sessions.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="token-auth-enforced">
<h3>token_auth_enforced<a class="headerlink" href="#token-auth-enforced" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;token_auth_enforced&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enforce token authentication for clients, which blocks requests using the user
password for enhanced security. Users need to generate tokens in personal settings
which can be used as passwords on their clients.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="token-auth-activity-update">
<h3>token_auth_activity_update<a class="headerlink" href="#token-auth-activity-update" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;token_auth_activity_update&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
</pre></div>
</div>
<p>The interval at which token activity should be updated.</p>
<p>Increasing this value means that the last activity on the security page gets
more outdated.</p>
<p>Tokens are still checked every 5 minutes for validity
max value: 300</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">60</span></code></p>
</section>
<section id="auth-bruteforce-protection-enabled">
<h3>auth.bruteforce.protection.enabled<a class="headerlink" href="#auth-bruteforce-protection-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.bruteforce.protection.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Whether the brute force protection shipped with Nextcloud should be enabled or not.</p>
<p>Disabling this is discouraged for security reasons.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="auth-bruteforce-protection-force-database">
<h3>auth.bruteforce.protection.force.database<a class="headerlink" href="#auth-bruteforce-protection-force-database" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.bruteforce.protection.force.database&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Whether the brute force protection should write into the database even when a memory cache is available</p>
<p>Using the database is most likely worse for performance, but makes investigating
issues a lot easier as it’s possible to look directly at the table to see all
logged remote addresses and actions.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="auth-bruteforce-protection-testing">
<h3>auth.bruteforce.protection.testing<a class="headerlink" href="#auth-bruteforce-protection-testing" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.bruteforce.protection.testing&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Whether the brute force protection shipped with Nextcloud should be set to testing mode.</p>
<p>In testing mode brute force attempts are still recorded, but the requests do
not sleep/wait for the specified time. They will still abort with
“429 Too Many Requests” when the maximum delay is reached.
Enabling this is discouraged for security reasons
and should only be done for debugging and on CI when running tests.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="auth-bruteforce-max-attempts">
<h3>auth.bruteforce.max-attempts<a class="headerlink" href="#auth-bruteforce-max-attempts" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.bruteforce.max-attempts&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
</pre></div>
</div>
<p>Brute force protection: maximum number of attempts before blocking</p>
<p>When more than max-attempts login requests are sent to Nextcloud, requests
will abort with “429 Too Many Requests”.
For security reasons, change it only if you know what you are doing.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</section>
<section id="ratelimit-protection-enabled">
<h3>ratelimit.protection.enabled<a class="headerlink" href="#ratelimit-protection-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ratelimit.protection.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Whether the rate limit protection shipped with Nextcloud should be enabled or not.</p>
<p>Disabling this is discouraged for security reasons.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="auth-webauthn-enabled">
<h3>auth.webauthn.enabled<a class="headerlink" href="#auth-webauthn-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.webauthn.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, WebAuthn is available, but it can be explicitly disabled by admins</p>
</section>
<section id="auth-storecryptedpassword">
<h3>auth.storeCryptedPassword<a class="headerlink" href="#auth-storecryptedpassword" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;auth.storeCryptedPassword&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Whether encrypted password should be stored in the database</p>
<p>The passwords are only decrypted using the login token stored uniquely in the
clients and allow to connect to external storages, autoconfigure mail account in
the mail app and periodically check if the password it still valid.</p>
<p>This might be desirable to disable this functionality when using one time
passwords or when having a password policy enforcing long passwords (&gt; 300
characters).</p>
<p>By default, the passwords are stored encrypted in the database.</p>
<p>WARNING: If disabled, password changes on the user back-end (e.g. on LDAP) no
longer log connected clients out automatically. Users can still disconnect
the clients by deleting the app token from the security settings.</p>
</section>
<section id="hide-login-form">
<h3>hide_login_form<a class="headerlink" href="#hide-login-form" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hide_login_form&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, the login form is always available. There are cases (SSO) where an
admin wants to avoid users entering their credentials to the system if the SSO
app is unavailable.</p>
<p>This will show an error. But the direct login still works with adding ?direct=1</p>
</section>
<section id="lost-password-link">
<h3>lost_password_link<a class="headerlink" href="#lost-password-link" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;lost_password_link&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;https://example.org/link/to/password/reset&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If your user backend does not allow password resets (e.g. when it’s a
read-only user backend like LDAP), you can specify a custom link, where the
user is redirected to, when clicking the “reset password” link after a failed
login-attempt.</p>
<p>In case you do not want to provide any link, replace the url with ‘disabled’</p>
</section>
<section id="logo-url">
<h3>logo_url<a class="headerlink" href="#logo-url" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logo_url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;https://example.org&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>URL to use as target for the logo link in the header (top-left logo)</p>
<p>Defaults to the base URL of your Nextcloud instance</p>
</section>
</section>
<section id="mail-parameters">
<h2>Mail Parameters<a class="headerlink" href="#mail-parameters" title="Link to this heading"></a></h2>
<p>These configure the email settings for Nextcloud notifications and password
resets.</p>
<section id="mail-domain">
<h3>mail_domain<a class="headerlink" href="#mail-domain" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_domain&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;example.com&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The return address that you want to appear on emails sent by the Nextcloud
server, for example <code class="docutils literal notranslate"><span class="pre">nc-admin&#64;example.com</span></code>, substituting your own domain,
of course.</p>
</section>
<section id="mail-from-address">
<h3>mail_from_address<a class="headerlink" href="#mail-from-address" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_from_address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>FROM address that overrides the built-in <code class="docutils literal notranslate"><span class="pre">sharing-noreply</span></code> and
<code class="docutils literal notranslate"><span class="pre">lostpassword-noreply</span></code> FROM addresses.</p>
<p>Defaults to different from addresses depending on the feature.</p>
</section>
<section id="mail-smtpdebug">
<h3>mail_smtpdebug<a class="headerlink" href="#mail-smtpdebug" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpdebug&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable SMTP class debugging.</p>
<dl class="simple">
<dt>NOTE: <code class="docutils literal notranslate"><span class="pre">loglevel</span></code> will likely need to be adjusted too. See docs:</dt><dd><p><a class="reference external" href="https://docs.nextcloud.com/server/latest/admin_manual/configuration_server/email_configuration.html#enabling-debug-mode">https://docs.nextcloud.com/server/latest/admin_manual/configuration_server/email_configuration.html#enabling-debug-mode</a></p>
</dd>
</dl>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="mail-smtpmode">
<h3>mail_smtpmode<a class="headerlink" href="#mail-smtpmode" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpmode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;smtp&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Which mode to use for sending mail: <code class="docutils literal notranslate"><span class="pre">sendmail</span></code>, <code class="docutils literal notranslate"><span class="pre">smtp</span></code>, <code class="docutils literal notranslate"><span class="pre">qmail</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p>If you are using local or remote SMTP, set this to <code class="docutils literal notranslate"><span class="pre">smtp</span></code>.</p>
<p>For the <code class="docutils literal notranslate"><span class="pre">sendmail</span></code> option you need an installed and working email system on
the server, with <code class="docutils literal notranslate"><span class="pre">/usr/sbin/sendmail</span></code> installed on your Unix system.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">qmail</span></code> the binary is /var/qmail/bin/sendmail, and it must be installed
on your Unix system.</p>
<p>Use the string <code class="docutils literal notranslate"><span class="pre">null</span></code> to send no mails (disable mail delivery). This can be
useful if mails should be sent via APIs and rendering messages is not necessary.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">smtp</span></code></p>
</section>
<section id="mail-smtphost">
<h3>mail_smtphost<a class="headerlink" href="#mail-smtphost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtphost&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. Specify the IP address of your mail
server host. This may contain multiple hosts separated by a semicolon. If
you need to specify the port number append it to the IP address separated by
a colon, like this: <code class="docutils literal notranslate"><span class="pre">127.0.0.1:24</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code></p>
</section>
<section id="mail-smtpport">
<h3>mail_smtpport<a class="headerlink" href="#mail-smtpport" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpport&#39;</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. Specify the port for sending mail.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">25</span></code></p>
</section>
<section id="mail-smtptimeout">
<h3>mail_smtptimeout<a class="headerlink" href="#mail-smtptimeout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtptimeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. This sets the SMTP server timeout, in
seconds. You may need to increase this if you are running an anti-malware or
spam scanner.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code> seconds</p>
</section>
<section id="mail-smtpsecure">
<h3>mail_smtpsecure<a class="headerlink" href="#mail-smtpsecure" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpsecure&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. Specify <code class="docutils literal notranslate"><span class="pre">ssl</span></code> when you are using SSL/TLS. Any other value will be ignored.</p>
<p>If the server advertises STARTTLS capabilities, they might be used, but they cannot be enforced by
this config option.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="mail-smtpauth">
<h3>mail_smtpauth<a class="headerlink" href="#mail-smtpauth" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpauth&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. Change this to <code class="docutils literal notranslate"><span class="pre">true</span></code> if your mail
server requires authentication.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="mail-smtpname">
<h3>mail_smtpname<a class="headerlink" href="#mail-smtpname" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpname&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpauth</span></code>. Specify the username for authenticating to
the SMTP server.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="mail-smtppassword">
<h3>mail_smtppassword<a class="headerlink" href="#mail-smtppassword" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtppassword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpauth</span></code>. Specify the password for authenticating to
the SMTP server.</p>
<p>Default to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="mail-template-class">
<h3>mail_template_class<a class="headerlink" href="#mail-template-class" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_template_class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\Mail\EMailTemplate&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Replaces the default mail template layout. This can be utilized if the
options to modify the mail texts with the theming app is not enough.</p>
<p>The class must extend  <code class="docutils literal notranslate"><span class="pre">\OC\Mail\EMailTemplate</span></code></p>
</section>
<section id="mail-send-plaintext-only">
<h3>mail_send_plaintext_only<a class="headerlink" href="#mail-send-plaintext-only" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_send_plaintext_only&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Email will be sent by default with an HTML and a plain text body. This option
allows to only send plain text emails.</p>
</section>
<section id="mail-smtpstreamoptions">
<h3>mail_smtpstreamoptions<a class="headerlink" href="#mail-smtpstreamoptions" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_smtpstreamoptions&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>This depends on <code class="docutils literal notranslate"><span class="pre">mail_smtpmode</span></code>. Array of additional streams options that
will be passed to underlying Swift mailer implementation.</p>
<p>Defaults to an empty array.</p>
</section>
<section id="mail-sendmailmode">
<h3>mail_sendmailmode<a class="headerlink" href="#mail-sendmailmode" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mail_sendmailmode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;smtp&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Which mode is used for sendmail/qmail: <code class="docutils literal notranslate"><span class="pre">smtp</span></code> or <code class="docutils literal notranslate"><span class="pre">pipe</span></code>.</p>
<dl class="simple">
<dt>For <code class="docutils literal notranslate"><span class="pre">smtp</span></code> the sendmail binary is started with the parameter <code class="docutils literal notranslate"><span class="pre">-bs</span></code>:</dt><dd><ul class="simple">
<li><p>Use the SMTP protocol on standard input and output.</p></li>
</ul>
</dd>
<dt>For <code class="docutils literal notranslate"><span class="pre">pipe</span></code> the binary is started with the parameters <code class="docutils literal notranslate"><span class="pre">-t</span></code>:</dt><dd><ul class="simple">
<li><p>Read message from STDIN and extract recipients.</p></li>
</ul>
</dd>
</dl>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">smtp</span></code></p>
</section>
</section>
<section id="proxy-configurations">
<h2>Proxy Configurations<a class="headerlink" href="#proxy-configurations" title="Link to this heading"></a></h2>
<section id="overwritehost">
<h3>overwritehost<a class="headerlink" href="#overwritehost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;overwritehost&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The automatic hostname detection of Nextcloud can fail in certain reverse
proxy and CLI/cron situations. This option allows you to manually override
the automatic detection; for example <code class="docutils literal notranslate"><span class="pre">www.example.com</span></code>, or specify the port
<code class="docutils literal notranslate"><span class="pre">www.example.com:8080</span></code>.</p>
</section>
<section id="overwriteprotocol">
<h3>overwriteprotocol<a class="headerlink" href="#overwriteprotocol" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;overwriteprotocol&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>When generating URLs, Nextcloud attempts to detect whether the server is
accessed via <code class="docutils literal notranslate"><span class="pre">https</span></code> or <code class="docutils literal notranslate"><span class="pre">http</span></code>. However, if Nextcloud is behind a proxy
and the proxy handles the <code class="docutils literal notranslate"><span class="pre">https</span></code> calls, Nextcloud would not know that
<code class="docutils literal notranslate"><span class="pre">ssl</span></code> is in use, which would result in incorrect URLs being generated.</p>
<p>Valid values are <code class="docutils literal notranslate"><span class="pre">http</span></code> and <code class="docutils literal notranslate"><span class="pre">https</span></code>.</p>
</section>
<section id="overwritewebroot">
<h3>overwritewebroot<a class="headerlink" href="#overwritewebroot" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;overwritewebroot&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Nextcloud attempts to detect the webroot for generating URLs automatically.</p>
<p>For example, if <code class="docutils literal notranslate"><span class="pre">www.example.com/nextcloud</span></code> is the URL pointing to the
Nextcloud instance, the webroot is <code class="docutils literal notranslate"><span class="pre">/nextcloud</span></code>. When proxies are in use,
it may be difficult for Nextcloud to detect this parameter, resulting in
invalid URLs.</p>
</section>
<section id="overwritecondaddr">
<h3>overwritecondaddr<a class="headerlink" href="#overwritecondaddr" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;overwritecondaddr&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This option allows you to define a manual override condition as a regular
expression for the remote IP address. For example, defining a range of IP
addresses starting with <code class="docutils literal notranslate"><span class="pre">10.0.0.</span></code> and ending with 1 to 3:
<code class="docutils literal notranslate"><span class="pre">^10\.0\.0\.[1-3]$</span></code></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="overwrite-cli-url">
<h3>overwrite.cli.url<a class="headerlink" href="#overwrite-cli-url" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;overwrite.cli.url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Use this configuration parameter to specify the base URL for any URLs which
are generated within Nextcloud using any kind of command line tools (cron or
occ). The value should contain the full base URL:
<code class="docutils literal notranslate"><span class="pre">https://www.example.com/nextcloud</span></code>
Please make sure to set the value to the URL that your users mainly use to access this Nextcloud.</p>
<p>Otherwise there might be problems with the URL generation via cron.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="htaccess-rewritebase">
<h3>htaccess.RewriteBase<a class="headerlink" href="#htaccess-rewritebase" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;htaccess.RewriteBase&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>To have clean URLs without <cite>/index.php</cite> this parameter needs to be configured.</p>
<p>This parameter will be written as “RewriteBase” on update and installation of
Nextcloud to your <cite>.htaccess</cite> file. While this value is often simply the URL
path of the Nextcloud installation it cannot be set automatically properly in
every scenario and needs thus some manual configuration.</p>
<p>In a standard Apache setup this usually equals the folder that Nextcloud is
accessible at. So if Nextcloud is accessible via “<a class="reference external" href="https://mycloud.org/nextcloud">https://mycloud.org/nextcloud</a>”
the correct value would most likely be “/nextcloud”. If Nextcloud is running
under “<a class="reference external" href="https://mycloud.org/">https://mycloud.org/</a>” then it would be “/”.</p>
<p>Note that the above rule is not valid in every case, as there are some rare setup
cases where this may not apply. However, to avoid any update problems this
configuration value is explicitly opt-in.</p>
<p>After setting this value run <cite>occ maintenance:update:htaccess</cite>. Now, when the
following conditions are met Nextcloud URLs won’t contain <cite>index.php</cite>:</p>
<ul class="simple">
<li><p><cite>mod_rewrite</cite> is installed</p></li>
<li><p><cite>mod_env</cite> is installed</p></li>
</ul>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="htaccess-ignorefrontcontroller">
<h3>htaccess.IgnoreFrontController<a class="headerlink" href="#htaccess-ignorefrontcontroller" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;htaccess.IgnoreFrontController&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>For server setups, that don’t have <cite>mod_env</cite> enabled or restricted (e.g. suEXEC)
this parameter has to be set to true and will assume mod_rewrite.</p>
<p>Please check, if <cite>mod_rewrite</cite> is active and functional before setting this
parameter, and you updated your .htaccess with <cite>occ maintenance:update:htaccess</cite>.
Otherwise, your nextcloud installation might not be reachable anymore.
For example, try accessing resources by leaving out <cite>index.php</cite> in the URL.</p>
</section>
<section id="proxy">
<h3>proxy<a class="headerlink" href="#proxy" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;proxy&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The URL of your proxy server, for example <code class="docutils literal notranslate"><span class="pre">proxy.example.com:8081</span></code>.</p>
<p>Note: Guzzle (the http library used by Nextcloud) is reading the environment
variables HTTP_PROXY (only for cli request), HTTPS_PROXY, and NO_PROXY by default.</p>
<p>If you configure proxy with Nextcloud any default configuration by Guzzle
is overwritten. Make sure to set <code class="docutils literal notranslate"><span class="pre">proxyexclude</span></code> accordingly if necessary.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="proxyuserpwd">
<h3>proxyuserpwd<a class="headerlink" href="#proxyuserpwd" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;proxyuserpwd&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The optional authentication for the proxy to use to connect to the internet.</p>
<p>The format is: <code class="docutils literal notranslate"><span class="pre">username:password</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="proxyexclude">
<h3>proxyexclude<a class="headerlink" href="#proxyexclude" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;proxyexclude&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>List of host names that should not be proxied to.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">['.mit.edu',</span> <span class="pre">'foo.com']</span></code>.</p>
<p>Hint: Use something like <code class="docutils literal notranslate"><span class="pre">explode(',',</span> <span class="pre">getenv('NO_PROXY'))</span></code> to sync this
value with the global NO_PROXY option.</p>
<p>Defaults to empty array.</p>
</section>
<section id="allow-local-remote-servers">
<h3>allow_local_remote_servers<a class="headerlink" href="#allow-local-remote-servers" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;allow_local_remote_servers&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Allow remote servers with local addresses e.g. in federated shares, webcal services and more</p>
<p>Defaults to false</p>
</section>
</section>
<section id="deleted-items-trash-bin">
<h2>Deleted Items (trash bin)<a class="headerlink" href="#deleted-items-trash-bin" title="Link to this heading"></a></h2>
<p>These parameters control the Deleted files app.</p>
<section id="trashbin-retention-obligation">
<h3>trashbin_retention_obligation<a class="headerlink" href="#trashbin-retention-obligation" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;trashbin_retention_obligation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If the trash bin app is enabled (default), this setting defines the policy
for when files and folders in the trash bin will be permanently deleted.</p>
<p>If the user quota limit is exceeded due to deleted files in the trash bin,
retention settings will be ignored and files will be cleaned up until
the quota requirements are met.</p>
<p>The app allows for two settings, a minimum time for trash bin retention,
and a maximum time for trash bin retention.</p>
<p>Minimum time is the number of days a file will be kept, after which it
<em>may be</em> deleted. A file may be deleted after the minimum number of days
is expired if space is needed. The file will not be deleted if space is
not needed.</p>
<p>Whether “space is needed” depends on whether a user quota is defined or not:</p>
<blockquote>
<div><ul class="simple">
<li><p>If no user quota is defined, the available space on the Nextcloud data
partition sets the limit for the trashbin
(issues: see <a class="reference external" href="https://github.com/nextcloud/server/issues/28451">https://github.com/nextcloud/server/issues/28451</a>).</p></li>
<li><p>If a user quota is defined, 50% of the user’s remaining quota space sets
the limit for the trashbin.</p></li>
</ul>
</div></blockquote>
<p>Maximum time is the number of days at which it is <em>guaranteed
to be</em> deleted. There is no further dependency on the available space.</p>
<p>Both minimum and maximum times can be set together to explicitly define
file and folder deletion. For migration purposes, this setting is installed
initially set to “auto”, which is equivalent to the default setting in
Nextcloud.</p>
<p>Available values (D1 and D2 are configurable numbers):</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto</span></code></dt><dd><p>default setting. keeps files and folders in the trash bin for 30 days
and automatically deletes anytime after that if space is needed (note:
files may not be deleted if space is not needed).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">D1,</span> <span class="pre">auto</span></code></dt><dd><p>keeps files and folders in the trash bin for D1+ days, delete anytime if
space needed (note: files may not be deleted if space is not needed)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto,</span> <span class="pre">D2</span></code></dt><dd><p>delete all files in the trash bin that are older than D2 days
automatically, delete other files anytime if space needed</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">D1,</span> <span class="pre">D2</span></code></dt><dd><p>keep files and folders in the trash bin for at least D1 days and
delete when exceeds D2 days (note: files will not be deleted automatically if space is needed)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">disabled</span></code></dt><dd><p>trash bin auto clean disabled, files and folders will be kept forever</p>
</dd>
</dl>
</li>
</ul>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">auto</span></code></p>
</section>
</section>
<section id="file-versions">
<h2>File versions<a class="headerlink" href="#file-versions" title="Link to this heading"></a></h2>
<p>These parameters control the Versions app.</p>
<section id="versions-retention-obligation">
<h3>versions_retention_obligation<a class="headerlink" href="#versions-retention-obligation" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;versions_retention_obligation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If the versions app is enabled (default), this setting defines the policy
for when versions will be permanently deleted.</p>
<p>The app allows for two settings, a minimum time for version retention,
and a maximum time for version retention.
Minimum time is the number of days a version will be kept, after which it
may be deleted. Maximum time is the number of days at which it is guaranteed
to be deleted.
Both minimum and maximum times can be set together to explicitly define
version deletion. For migration purposes, this setting is installed
initially set to “auto”, which is equivalent to the default setting in
Nextcloud.</p>
<p>Available values:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto</span></code></dt><dd><p>default setting. Automatically expire versions according to expire
rules. Please refer to <a class="reference internal" href="../configuration_files/file_versioning.html"><span class="doc">Controlling file versions and aging</span></a> for
more information.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">D,</span> <span class="pre">auto</span></code></dt><dd><p>keep versions at least for D days, apply expiration rules to all versions
that are older than D days</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">auto,</span> <span class="pre">D</span></code></dt><dd><p>delete all versions that are older than D days automatically, delete
other versions according to expire rules</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">D1,</span> <span class="pre">D2</span></code></dt><dd><p>keep versions for at least D1 days and delete when exceeds D2 days</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">disabled</span></code></dt><dd><p>versions auto clean disabled, versions will be kept forever</p>
</dd>
</dl>
</li>
</ul>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">auto</span></code></p>
</section>
</section>
<section id="nextcloud-verifications">
<h2>Nextcloud Verifications<a class="headerlink" href="#nextcloud-verifications" title="Link to this heading"></a></h2>
<p>Nextcloud performs several verification checks. There are two options,
<code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<section id="appcodechecker">
<h3>appcodechecker<a class="headerlink" href="#appcodechecker" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;appcodechecker&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Checks an app before install whether it uses private APIs instead of the
proper public APIs. If this is set to true it will only allow to install or
enable apps that pass this check.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="updatechecker">
<h3>updatechecker<a class="headerlink" href="#updatechecker" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;updatechecker&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Check if Nextcloud is up-to-date and shows a notification if a new version is
available. It sends current version, php version, installation and last update
time and release channel to the updater server which responds with the latest
available version based on those metrics.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="updater-server-url">
<h3>updater.server.url<a class="headerlink" href="#updater-server-url" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;updater.server.url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;https://updates.nextcloud.com/updater_server/&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>URL that Nextcloud should use to look for updates</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">https://updates.nextcloud.com/updater_server/</span></code></p>
</section>
<section id="updater-release-channel">
<h3>updater.release.channel<a class="headerlink" href="#updater-release-channel" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;updater.release.channel&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;stable&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The channel that Nextcloud should use to look for updates</p>
<p>Supported values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">daily</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">beta</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stable</span></code></p></li>
</ul>
</section>
<section id="has-internet-connection">
<h3>has_internet_connection<a class="headerlink" href="#has-internet-connection" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;has_internet_connection&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Is Nextcloud connected to the Internet or running in a closed network?</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="connectivity-check-domains">
<h3>connectivity_check_domains<a class="headerlink" href="#connectivity-check-domains" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;connectivity_check_domains&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;https://www.nextcloud.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;https://www.startpage.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;https://www.eff.org&#39;</span><span class="p">,</span>
        <span class="s1">&#39;https://www.edri.org&#39;</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Which domains to request to determine the availability of an Internet
connection. If none of these hosts are reachable, the administration panel
will show a warning. Set to an empty list to not do any such checks (warning
will still be shown).</p>
<p>If no protocol is provided, both http and https will be tested.
For example, ‘<a class="reference external" href="http://www.nextcloud.com">http://www.nextcloud.com</a>’ and ‘<a class="reference external" href="https://www.nextcloud.com">https://www.nextcloud.com</a>’
will be tested for ‘www.nextcloud.com’
If a protocol is provided, only this one will be tested.</p>
<p>Defaults to the following domains:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://www.nextcloud.com">https://www.nextcloud.com</a></p></li>
<li><p><a class="reference external" href="https://www.startpage.com">https://www.startpage.com</a></p></li>
<li><p><a class="reference external" href="https://www.eff.org">https://www.eff.org</a></p></li>
<li><p><a class="reference external" href="https://www.edri.org">https://www.edri.org</a></p></li>
</ul>
</div></blockquote>
</section>
<section id="check-for-working-wellknown-setup">
<h3>check_for_working_wellknown_setup<a class="headerlink" href="#check-for-working-wellknown-setup" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;check_for_working_wellknown_setup&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Allows Nextcloud to verify a working .well-known URL redirects. This is done
by attempting to make a request from JS to
<a class="reference external" href="https://your-domain.com/.well-known/caldav/">https://your-domain.com/.well-known/caldav/</a></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="check-for-working-htaccess">
<h3>check_for_working_htaccess<a class="headerlink" href="#check-for-working-htaccess" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;check_for_working_htaccess&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>This is a crucial security check on Apache servers that should always be set
to <code class="docutils literal notranslate"><span class="pre">true</span></code>. This verifies that the <code class="docutils literal notranslate"><span class="pre">.htaccess</span></code> file is writable and works.</p>
<p>If it is not, then any options controlled by <code class="docutils literal notranslate"><span class="pre">.htaccess</span></code>, such as large
file uploads, will not work. It also runs checks on the <code class="docutils literal notranslate"><span class="pre">data/</span></code> directory,
which verifies that it can’t be accessed directly through the Web server.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="check-data-directory-permissions">
<h3>check_data_directory_permissions<a class="headerlink" href="#check-data-directory-permissions" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;check_data_directory_permissions&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>In rare setups (e.g. on Openshift or Docker on Windows) the permissions check
might block the installation while the underlying system offers no means to
“correct” the permissions. In this case, set the value to false.</p>
<p>In regular cases, if issues with permissions are encountered they should be
adjusted accordingly. Changing the flag is discouraged.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="config-is-read-only">
<h3>config_is_read_only<a class="headerlink" href="#config-is-read-only" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;config_is_read_only&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>In certain environments it is desired to have a read-only configuration file.</p>
<p>When this switch is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, writing to the config file will be
forbidden. Therefore, it will not be possible to configure all options via
the Web interface. Furthermore, when updating Nextcloud it is required to
make the configuration file writable again and to set this switch to <code class="docutils literal notranslate"><span class="pre">false</span></code>
for the update process.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Link to this heading"></a></h2>
<section id="log-type">
<h3>log_type<a class="headerlink" href="#log-type" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log_type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This parameter determines where the Nextcloud logs are sent.</p>
<p><code class="docutils literal notranslate"><span class="pre">file</span></code>: the logs are written to file <code class="docutils literal notranslate"><span class="pre">nextcloud.log</span></code> in the default
Nextcloud data directory. The log file can be changed with parameter
<code class="docutils literal notranslate"><span class="pre">logfile</span></code>.
<code class="docutils literal notranslate"><span class="pre">syslog</span></code>: the logs are sent to the system log. This requires a syslog daemon
to be active.
<code class="docutils literal notranslate"><span class="pre">errorlog</span></code>: the logs are sent to the PHP <code class="docutils literal notranslate"><span class="pre">error_log</span></code> function.
<code class="docutils literal notranslate"><span class="pre">systemd</span></code>: the logs are sent to the Systemd journal. This requires a system
that runs Systemd and the Systemd journal. The PHP extension <code class="docutils literal notranslate"><span class="pre">systemd</span></code>
must be installed and active.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">file</span></code></p>
</section>
<section id="log-type-audit">
<h3>log_type_audit<a class="headerlink" href="#log-type-audit" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log_type_audit&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This parameter determines where the audit logs are sent. See <code class="docutils literal notranslate"><span class="pre">log_type</span></code> for more information.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">file</span></code></p>
</section>
<section id="logfile">
<h3>logfile<a class="headerlink" href="#logfile" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logfile&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/log/nextcloud.log&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Name of the file to which the Nextcloud logs are written if parameter
<code class="docutils literal notranslate"><span class="pre">log_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">[datadirectory]/nextcloud.log</span></code></p>
</section>
<section id="logfile-audit">
<h3>logfile_audit<a class="headerlink" href="#logfile-audit" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logfile_audit&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/log/audit.log&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Name of the file to which the audit logs are written if parameter
<code class="docutils literal notranslate"><span class="pre">log_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">[datadirectory]/audit.log</span></code></p>
</section>
<section id="logfilemode">
<h3>logfilemode<a class="headerlink" href="#logfilemode" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logfilemode&#39;</span> <span class="o">=&gt;</span> <span class="mi">0640</span><span class="p">,</span>
</pre></div>
</div>
<p>Log file mode for the Nextcloud logging type in octal notation.</p>
<p>Defaults to 0640 (writeable by user, readable by group).</p>
</section>
<section id="loglevel">
<h3>loglevel<a class="headerlink" href="#loglevel" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;loglevel&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
</pre></div>
</div>
<p>Loglevel to start logging at. Valid values are: 0 = Debug, 1 = Info, 2 =
Warning, 3 = Error, and 4 = Fatal. The default value is Warning.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</section>
<section id="loglevel-frontend">
<h3>loglevel_frontend<a class="headerlink" href="#loglevel-frontend" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;loglevel_frontend&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
</pre></div>
</div>
<p>Loglevel used by the frontend to start logging at. The same values as
for <code class="docutils literal notranslate"><span class="pre">loglevel</span></code> can be used. If not set it defaults to the value
configured for <code class="docutils literal notranslate"><span class="pre">loglevel</span></code> or Warning if that is not set either.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</section>
<section id="loglevel-dirty-database-queries">
<h3>loglevel_dirty_database_queries<a class="headerlink" href="#loglevel-dirty-database-queries" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;loglevel_dirty_database_queries&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
<p>Loglevel used by the dirty database query detection. Useful to identify
potential database bugs in production. Set this to loglevel or higher to
see dirty queries in the logs.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code> (debug)</p>
</section>
<section id="syslog-tag">
<h3>syslog_tag<a class="headerlink" href="#syslog-tag" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;syslog_tag&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Nextcloud&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If you maintain different instances and aggregate the logs, you may want
to distinguish between them. <code class="docutils literal notranslate"><span class="pre">syslog_tag</span></code> can be set per instance
with a unique id. Only available if <code class="docutils literal notranslate"><span class="pre">log_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">syslog</span></code> or
<code class="docutils literal notranslate"><span class="pre">systemd</span></code>.</p>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">Nextcloud</span></code>.</p>
</section>
<section id="syslog-tag-audit">
<h3>syslog_tag_audit<a class="headerlink" href="#syslog-tag-audit" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;syslog_tag_audit&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Nextcloud&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If you maintain different instances and aggregate the logs, you may want
to distinguish between them. <code class="docutils literal notranslate"><span class="pre">syslog_tag_audit</span></code> can be set per instance
with a unique id. Only available if <code class="docutils literal notranslate"><span class="pre">log_type</span></code> is set to <code class="docutils literal notranslate"><span class="pre">syslog</span></code> or
<code class="docutils literal notranslate"><span class="pre">systemd</span></code>.</p>
<p>The default value is the value of <code class="docutils literal notranslate"><span class="pre">syslog_tag</span></code>.</p>
</section>
<section id="log-condition">
<h3>log.condition<a class="headerlink" href="#log-condition" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log.condition&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;shared_secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;57b58edb6637fe3059b3595cf9c41b9&#39;</span><span class="p">,</span>
        <span class="s1">&#39;users&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;sample-user&#39;</span><span class="p">],</span>
        <span class="s1">&#39;apps&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">],</span>
        <span class="s1">&#39;matches&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="p">[</span>
                        <span class="s1">&#39;shared_secret&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;57b58edb6637fe3059b3595cf9c41b9&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;users&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;sample-user&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;apps&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;loglevel&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;contains substring&#39;</span>
                <span class="p">],</span>
        <span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Log condition for log level increase based on conditions. Once one of these
conditions is met, the required log level is set to debug. This allows to
debug specific requests, users or apps</p>
<dl class="simple">
<dt>Supported conditions:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">shared_secret</span></code>: if a request parameter with the name <cite>log_secret</cite> is set to</dt><dd><p>this value the condition is met</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">users</span></code>:  if the current request is done by one of the specified users,</dt><dd><p>this condition is met</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">apps</span></code>:   if the log message is invoked by one of the specified apps,</dt><dd><p>this condition is met</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">matches</span></code>: if all the conditions inside a group match,</dt><dd><p>this condition is met. This allows to log only entries to an app
by a few users.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Defaults to an empty array.</p>
</section>
<section id="log-backtrace">
<h3>log.backtrace<a class="headerlink" href="#log-backtrace" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log.backtrace&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enables logging a backtrace with each log line. Normally, only Exceptions
are carrying backtrace information which are logged automatically. This
switch turns them on for any log message. Enabling this option will lead
to increased log data size.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="logdateformat">
<h3>logdateformat<a class="headerlink" href="#logdateformat" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logdateformat&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;F d, Y H:i:s&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This uses PHP.date formatting; see <a class="reference external" href="https://www.php.net/manual/en/function.date.php">https://www.php.net/manual/en/function.date.php</a></p>
<p>Defaults to ISO 8601 <code class="docutils literal notranslate"><span class="pre">2005-08-15T15:52:01+00:00</span></code> - see DateTime::ATOM
(<a class="reference external" href="https://www.php.net/manual/en/class.datetime.php#datetime.constants.atom">https://www.php.net/manual/en/class.datetime.php#datetime.constants.atom</a>)</p>
</section>
<section id="logtimezone">
<h3>logtimezone<a class="headerlink" href="#logtimezone" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;logtimezone&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Europe/Berlin&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The timezone for logfiles. You may change this; see
<a class="reference external" href="https://www.php.net/manual/en/timezones.php">https://www.php.net/manual/en/timezones.php</a></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">UTC</span></code></p>
</section>
<section id="log-query">
<h3>log_query<a class="headerlink" href="#log-query" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log_query&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Append all database queries and parameters to the log file. Use this only for
debugging, as your logfile will become huge.</p>
</section>
<section id="log-rotate-size">
<h3>log_rotate_size<a class="headerlink" href="#log-rotate-size" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;log_rotate_size&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span>
</pre></div>
</div>
<p>Enables log rotation and limits the total size of logfiles. Set it to 0 for
no rotation. Specify a size in bytes, for example 104857600 (100 megabytes
= 100 * 1024 * 1024 bytes). A new logfile is created with a new name when the
old logfile reaches your limit. If a rotated log file is already present, it
will be overwritten.</p>
<p>Defaults to 100 MB</p>
</section>
<section id="profiler">
<h3>profiler<a class="headerlink" href="#profiler" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profiler&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable built-in profiler. Helpful when trying to debug performance
issues.</p>
<p>Note that this has a performance impact and shouldn’t be enabled
on production.</p>
</section>
</section>
<section id="alternate-code-locations">
<h2>Alternate Code Locations<a class="headerlink" href="#alternate-code-locations" title="Link to this heading"></a></h2>
<p>Some Nextcloud code may be stored in alternate locations.</p>
<section id="customclient-desktop">
<h3>customclient_desktop<a class="headerlink" href="#customclient-desktop" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;customclient_desktop&#39;</span> <span class="o">=&gt;</span>
        <span class="s1">&#39;https://nextcloud.com/install/#install-clients&#39;</span><span class="p">,</span>
<span class="s1">&#39;customclient_android&#39;</span> <span class="o">=&gt;</span>
        <span class="s1">&#39;https://play.google.com/store/apps/details?id=com.nextcloud.client&#39;</span><span class="p">,</span>
<span class="s1">&#39;customclient_ios&#39;</span> <span class="o">=&gt;</span>
        <span class="s1">&#39;https://itunes.apple.com/us/app/nextcloud/id1125420102?mt=8&#39;</span><span class="p">,</span>
<span class="s1">&#39;customclient_ios_appid&#39;</span> <span class="o">=&gt;</span>
                <span class="s1">&#39;1125420102&#39;</span><span class="p">,</span>
<span class="s1">&#39;customclient_fdroid&#39;</span> <span class="o">=&gt;</span>
        <span class="s1">&#39;https://f-droid.org/packages/com.nextcloud.client/&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This section is for configuring the download links for Nextcloud clients, as
seen in the first-run wizard and on Personal pages.</p>
<p>Defaults to:</p>
<ul class="simple">
<li><p>Desktop client: <code class="docutils literal notranslate"><span class="pre">https://nextcloud.com/install/#install-clients</span></code></p></li>
<li><p>Android client: <code class="docutils literal notranslate"><span class="pre">https://play.google.com/store/apps/details?id=com.nextcloud.client</span></code></p></li>
<li><p>iOS client: <code class="docutils literal notranslate"><span class="pre">https://itunes.apple.com/us/app/nextcloud/id1125420102?mt=8</span></code></p></li>
<li><p>iOS client app id: <code class="docutils literal notranslate"><span class="pre">1125420102</span></code></p></li>
<li><p>F-Droid client: <code class="docutils literal notranslate"><span class="pre">https://f-droid.org/packages/com.nextcloud.client/</span></code></p></li>
</ul>
</section>
</section>
<section id="apps">
<h2>Apps<a class="headerlink" href="#apps" title="Link to this heading"></a></h2>
<p>Options for the Apps folder, Apps store, and App code checker.</p>
<section id="defaultapp">
<h3>defaultapp<a class="headerlink" href="#defaultapp" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;defaultapp&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dashboard,files&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Set the default app to open on login. The entry IDs can be retrieved from
the Navigations OCS API endpoint: <a class="reference external" href="https://docs.nextcloud.com/server/latest/develper_manual/_static/openapi.html#/operations/core-navigation-get-apps-navigation">https://docs.nextcloud.com/server/latest/develper_manual/_static/openapi.html#/operations/core-navigation-get-apps-navigation</a>.</p>
<p>You can use a comma-separated list of app names, so if the first
app is not enabled for a user then Nextcloud will try the second one, and so
on. If no enabled apps are found it defaults to the dashboard app.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">dashboard,files</span></code></p>
</section>
<section id="appstoreenabled">
<h3>appstoreenabled<a class="headerlink" href="#appstoreenabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;appstoreenabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>When enabled, admins may install apps from the Nextcloud app store.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="appstoreurl">
<h3>appstoreurl<a class="headerlink" href="#appstoreurl" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;appstoreurl&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;https://apps.nextcloud.com/api/v1&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Enables the installation of apps from a self-hosted apps store.</p>
<p>Requires that at least one of the configured apps directories is writeable.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">https://apps.nextcloud.com/api/v1</span></code></p>
</section>
<section id="appsallowlist">
<h3>appsallowlist<a class="headerlink" href="#appsallowlist" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;appsallowlist&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>Filters allowed installable apps from the appstore.</p>
<p>Empty array will prevent all apps from the store to be found.</p>
</section>
<section id="apps-paths">
<h3>apps_paths<a class="headerlink" href="#apps-paths" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;apps_paths&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
                <span class="s1">&#39;path&#39;</span><span class="o">=&gt;</span> <span class="s1">&#39;/var/www/nextcloud/apps&#39;</span><span class="p">,</span>
                <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/apps&#39;</span><span class="p">,</span>
                <span class="s1">&#39;writable&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
        <span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">apps_paths</span></code> parameter to set the location of the Apps directory,
which should be scanned for available apps, and where user-specific apps
should be installed from the Apps store. The <code class="docutils literal notranslate"><span class="pre">path</span></code> defines the absolute
file system path to the app folder. The key <code class="docutils literal notranslate"><span class="pre">url</span></code> defines the HTTP Web path
to that folder, starting from the Nextcloud webroot. The key <code class="docutils literal notranslate"><span class="pre">writable</span></code>
indicates if a Web server can write files to that folder.</p>
</section>
</section>
<section id="previews">
<h2>Previews<a class="headerlink" href="#previews" title="Link to this heading"></a></h2>
<p>Nextcloud supports previews of image files, the covers of MP3 files, and text
files. These options control enabling and disabling previews, and thumbnail
size.</p>
<section id="enable-previews">
<h3>enable_previews<a class="headerlink" href="#enable-previews" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;enable_previews&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, Nextcloud can generate previews for the following filetypes:</p>
<ul class="simple">
<li><p>Image files</p></li>
<li><p>Covers of MP3 files</p></li>
<li><p>Text documents</p></li>
</ul>
<p>Valid values are <code class="docutils literal notranslate"><span class="pre">true</span></code>, to enable previews, or
<code class="docutils literal notranslate"><span class="pre">false</span></code>, to disable previews</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="preview-concurrency-all">
<h3>preview_concurrency_all<a class="headerlink" href="#preview-concurrency-all" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_concurrency_all&#39;</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span>
</pre></div>
</div>
<p>Number of all preview requests being processed concurrently,
including previews that need to be newly generated, and those that have
been generated.</p>
<p>This should be greater than ‘preview_concurrency_new’.
If unspecified, defaults to twice the value of ‘preview_concurrency_new’.</p>
</section>
<section id="preview-concurrency-new">
<h3>preview_concurrency_new<a class="headerlink" href="#preview-concurrency-new" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_concurrency_new&#39;</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
</pre></div>
</div>
<p>Number of new previews that are being concurrently generated.</p>
<p>Depending on the max preview size set by ‘preview_max_x’ and ‘preview_max_y’,
the generation process can consume considerable CPU and memory resources.
It’s recommended to limit this to be no greater than the number of CPU cores.
If unspecified, defaults to the number of CPU cores, or 4 if that cannot
be determined.</p>
</section>
<section id="preview-max-x">
<h3>preview_max_x<a class="headerlink" href="#preview-max-x" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_max_x&#39;</span> <span class="o">=&gt;</span> <span class="mi">4096</span><span class="p">,</span>
</pre></div>
</div>
<p>The maximum width, in pixels, of a preview. A value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means there
is no limit.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">4096</span></code></p>
</section>
<section id="preview-max-y">
<h3>preview_max_y<a class="headerlink" href="#preview-max-y" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_max_y&#39;</span> <span class="o">=&gt;</span> <span class="mi">4096</span><span class="p">,</span>
</pre></div>
</div>
<p>The maximum height, in pixels, of a preview. A value of <code class="docutils literal notranslate"><span class="pre">null</span></code> means there
is no limit.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">4096</span></code></p>
</section>
<section id="preview-max-filesize-image">
<h3>preview_max_filesize_image<a class="headerlink" href="#preview-max-filesize-image" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_max_filesize_image&#39;</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
</pre></div>
</div>
<p>Max file size for generating image previews with imagegd (default behavior).</p>
<p>If the image is bigger, it’ll try other preview generators, but will most
likely either show the default mimetype icon or not display the image at all.
Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> for no limit and try to generate image previews on all file sizes.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">50</span></code> megabytes</p>
</section>
<section id="preview-max-memory">
<h3>preview_max_memory<a class="headerlink" href="#preview-max-memory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_max_memory&#39;</span> <span class="o">=&gt;</span> <span class="mi">256</span><span class="p">,</span>
</pre></div>
</div>
<p>max memory for generating image previews with imagegd (default behavior)
Reads the image dimensions from the header and assumes 32 bits per pixel.</p>
<p>If creating the image would allocate more memory, preview generation will
be disabled and the default mimetype icon is shown. Set to -1 for no limit.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">256</span></code> megabytes</p>
</section>
<section id="preview-libreoffice-path">
<h3>preview_libreoffice_path<a class="headerlink" href="#preview-libreoffice-path" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_libreoffice_path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/usr/bin/libreoffice&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>custom path for LibreOffice/OpenOffice binary</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="preview-ffmpeg-path">
<h3>preview_ffmpeg_path<a class="headerlink" href="#preview-ffmpeg-path" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_ffmpeg_path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/usr/bin/ffmpeg&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>custom path for ffmpeg binary</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">null</span></code> and falls back to searching <code class="docutils literal notranslate"><span class="pre">avconv</span></code> and <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code>
in the configured <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment</p>
</section>
<section id="preview-imaginary-url">
<h3>preview_imaginary_url<a class="headerlink" href="#preview-imaginary-url" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_imaginary_url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://previews_hpb:8088/&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Set the URL of the Imaginary service to send image previews to.</p>
<p>Also requires the <code class="docutils literal notranslate"><span class="pre">OC\Preview\Imaginary</span></code> provider to be enabled in the
<code class="docutils literal notranslate"><span class="pre">enabledPreviewProviders</span></code> array, to create previews for these mimetypes: bmp,
x-bitmap, png, jpeg, gif, heic, heif, svg+xml, tiff, webp and illustrator.</p>
<p>If you want Imaginary to also create preview images from PDF Documents, you
have to add the <code class="docutils literal notranslate"><span class="pre">OC\Preview\ImaginaryPDF</span></code> provider as well.</p>
<p>See <a class="reference external" href="https://github.com/h2non/imaginary">https://github.com/h2non/imaginary</a></p>
</section>
<section id="preview-imaginary-key">
<h3>preview_imaginary_key<a class="headerlink" href="#preview-imaginary-key" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;preview_imaginary_key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;secret&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If you want set a api key for imaginary.</p>
</section>
<section id="enabledpreviewproviders">
<h3>enabledPreviewProviders<a class="headerlink" href="#enabledpreviewproviders" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;enabledPreviewProviders&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;OC\Preview\BMP&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\GIF&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\JPEG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\Krita&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\MarkDown&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\MP3&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\OpenDocument&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\PNG&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\TXT&#39;</span><span class="p">,</span>
        <span class="s1">&#39;OC\Preview\XBitmap&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Only register providers that have been explicitly enabled</p>
<p>The following providers are disabled by default due to performance or privacy
concerns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Font</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\HEIC</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Illustrator</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Movie</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\MSOffice2003</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\MSOffice2007</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\MSOfficeDoc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\PDF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Photoshop</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Postscript</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\StarOffice</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\SVG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\TIFF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\EMF</span></code></p></li>
</ul>
</div></blockquote>
<p>Defaults to the following providers:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\BMP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\GIF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\JPEG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\Krita</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\MarkDown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\MP3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\OpenDocument</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\PNG</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\TXT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OC\Preview\XBitmap</span></code></p></li>
</ul>
</div></blockquote>
</section>
<section id="metadata-max-filesize">
<h3>metadata_max_filesize<a class="headerlink" href="#metadata-max-filesize" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;metadata_max_filesize&#39;</span> <span class="o">=&gt;</span> <span class="mi">256</span><span class="p">,</span>
</pre></div>
</div>
<p>Maximum file size for metadata generation.</p>
<p>If a file exceeds this size, metadata generation will be skipped.
Note: memory equivalent to this size will be used for metadata generation.</p>
<p>Default: 256 megabytes.</p>
</section>
</section>
<section id="ldap">
<h2>LDAP<a class="headerlink" href="#ldap" title="Link to this heading"></a></h2>
<p>Global settings used by LDAP User and Group Backend</p>
<section id="ldapusercleanupinterval">
<h3>ldapUserCleanupInterval<a class="headerlink" href="#ldapusercleanupinterval" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ldapUserCleanupInterval&#39;</span> <span class="o">=&gt;</span> <span class="mi">51</span><span class="p">,</span>
</pre></div>
</div>
<p>defines the interval in minutes for the background job that checks user
existence and marks them as ready to be cleaned up. The number is always
minutes. Setting it to 0 disables the feature.</p>
<p>See command line (occ) methods <code class="docutils literal notranslate"><span class="pre">ldap:show-remnants</span></code> and <code class="docutils literal notranslate"><span class="pre">user:delete</span></code></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">51</span></code> minutes</p>
</section>
<section id="sort-groups-by-name">
<h3>sort_groups_by_name<a class="headerlink" href="#sort-groups-by-name" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sort_groups_by_name&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Sort groups in the user settings by name instead of the user count</p>
<p>By enabling this the user count beside the group name is disabled as well.</p>
</section>
</section>
<section id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Link to this heading"></a></h2>
<p>Global settings for the Comments infrastructure</p>
<section id="comments-managerfactory">
<h3>comments.managerFactory<a class="headerlink" href="#comments-managerfactory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;comments.managerFactory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\Comments\ManagerFactory&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Replaces the default Comments Manager Factory. This can be utilized if an
own or 3rdParty CommentsManager should be used that – for instance – uses the
filesystem instead of the database to keep the comments.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">\OC\Comments\ManagerFactory</span></code></p>
</section>
<section id="systemtags-managerfactory">
<h3>systemtags.managerFactory<a class="headerlink" href="#systemtags-managerfactory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;systemtags.managerFactory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\SystemTag\ManagerFactory&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Replaces the default System Tags Manager Factory. This can be utilized if an
own or 3rdParty SystemTagsManager should be used that – for instance – uses the
filesystem instead of the database to keep the tags.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">\OC\SystemTag\ManagerFactory</span></code></p>
</section>
</section>
<section id="maintenance">
<h2>Maintenance<a class="headerlink" href="#maintenance" title="Link to this heading"></a></h2>
<p>These options are for halting user activity when you are performing server
maintenance.</p>
<section id="id1">
<h3>maintenance<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;maintenance&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable maintenance mode to disable Nextcloud</p>
<p>If you want to prevent users from logging in to Nextcloud before you start
doing some maintenance work, you need to set the value of the maintenance
parameter to true. Please keep in mind that users who are already logged-in
are kicked out of Nextcloud instantly.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="maintenance-window-start">
<h3>maintenance_window_start<a class="headerlink" href="#maintenance-window-start" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;maintenance_window_start&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
</pre></div>
</div>
<p>UTC Hour for maintenance windows</p>
<p>Some background jobs only run once a day. When an hour is defined for this config,
the background jobs which advertise themselves as not time sensitive will be
delayed during the “working” hours and only run in the 4 hours after the given time.
This is e.g. used for activity expiration, suspicious login training and update checks.</p>
<p>A value of 1 e.g. will only run these background jobs between 01:00am UTC and 05:00am UTC.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">100</span></code> which disables the feature</p>
</section>
<section id="ldap-log-file">
<h3>ldap_log_file<a class="headerlink" href="#ldap-log-file" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ldap_log_file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Log all LDAP requests into a file</p>
<p>Warning: This heavily decreases the performance of the server and is only
meant to debug/profile the LDAP interaction manually.
Also, it might log sensitive data into a plain text file.</p>
</section>
</section>
<section id="ssl">
<h2>SSL<a class="headerlink" href="#ssl" title="Link to this heading"></a></h2>
<section id="openssl">
<h3>openssl<a class="headerlink" href="#openssl" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;openssl&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/absolute/location/of/openssl.cnf&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Extra SSL options to be used for configuration.</p>
<p>Defaults to an empty array.</p>
</section>
</section>
<section id="memory-caching-backend-configuration">
<h2>Memory caching backend configuration<a class="headerlink" href="#memory-caching-backend-configuration" title="Link to this heading"></a></h2>
<p>Available cache backends:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">\OC\Memcache\APCu</span></code>       APC user backend</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\OC\Memcache\ArrayCache</span></code> In-memory array-based backend (not recommended)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\OC\Memcache\Memcached</span></code>  Memcached backend</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\OC\Memcache\Redis</span></code>      Redis backend</p></li>
</ul>
<p>Advice on choosing between the various backends:</p>
<ul class="simple">
<li><p>APCu should be easiest to install. Almost all distributions have packages.
Use this for single user environment for all caches.</p></li>
<li><p>Use Redis or Memcached for distributed environments.
For the local cache (you can configure two) take APCu.</p></li>
</ul>
<section id="memcache-local">
<h3>memcache.local<a class="headerlink" href="#memcache-local" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;memcache.local&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\Memcache\APCu&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Memory caching backend for locally stored data</p>
<ul class="simple">
<li><p>Used for host-specific data, e.g. file paths</p></li>
</ul>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">none</span></code></p>
</section>
<section id="memcache-distributed">
<h3>memcache.distributed<a class="headerlink" href="#memcache-distributed" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;memcache.distributed&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\Memcache\Memcached&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Memory caching backend for distributed data</p>
<ul class="simple">
<li><p>Used for installation-specific data, e.g. database caching</p></li>
<li><p>If unset, defaults to the value of memcache.local</p></li>
</ul>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">none</span></code></p>
</section>
<section id="redis">
<h3>redis<a class="headerlink" href="#redis" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;redis&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">a</span> <span class="n">unix</span> <span class="n">domain</span> <span class="n">socket</span><span class="p">:</span> <span class="s1">&#39;/tmp/redis.sock&#39;</span>
        <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">6379</span><span class="p">,</span>
        <span class="s1">&#39;timeout&#39;</span> <span class="o">=&gt;</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s1">&#39;read_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Optional</span><span class="p">:</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">defined</span><span class="p">,</span> <span class="n">no</span> <span class="n">password</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
        <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Optional</span><span class="p">:</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">defined</span><span class="p">,</span> <span class="n">no</span> <span class="n">password</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
        <span class="s1">&#39;dbindex&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="o">//</span> <span class="n">Optional</span><span class="p">:</span> <span class="k">if</span> <span class="n">undefined</span> <span class="n">SELECT</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">run</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">use</span> <span class="n">Redis</span> <span class="n">Server</span><span class="s1">&#39;s default DB Index.</span>
        <span class="o">//</span> <span class="n">If</span> <span class="n">redis</span> <span class="ow">in</span><span class="o">-</span><span class="n">transit</span> <span class="n">encryption</span> <span class="ow">is</span> <span class="n">enabled</span><span class="p">,</span> <span class="n">provide</span> <span class="n">certificates</span>
        <span class="o">//</span> <span class="n">SSL</span> <span class="n">context</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">php</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">manual</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">context</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">php</span>
        <span class="s1">&#39;ssl_context&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;local_cert&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/redis.crt&#39;</span><span class="p">,</span>
                <span class="s1">&#39;local_pk&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/redis.key&#39;</span><span class="p">,</span>
                <span class="s1">&#39;cafile&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/ca.crt&#39;</span>
        <span class="p">]</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Connection details for redis to use for memory caching in a single server configuration.</p>
<p>For enhanced security it is recommended to configure Redis
to require a password. See <a class="reference external" href="http://redis.io/topics/security">http://redis.io/topics/security</a>
for more information.</p>
<p>We also support redis SSL/TLS encryption as of version 6.
See <a class="reference external" href="https://redis.io/topics/encryption">https://redis.io/topics/encryption</a> for more information.</p>
</section>
<section id="redis-cluster">
<h3>redis.cluster<a class="headerlink" href="#redis-cluster" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;redis.cluster&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;seeds&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="o">//</span> <span class="n">provide</span> <span class="n">some</span> <span class="ow">or</span> <span class="nb">all</span> <span class="n">of</span> <span class="n">the</span> <span class="n">cluster</span> <span class="n">servers</span> <span class="n">to</span> <span class="n">bootstrap</span> <span class="n">discovery</span><span class="p">,</span> <span class="n">port</span> <span class="n">required</span>
                <span class="s1">&#39;localhost:7000&#39;</span><span class="p">,</span>
                <span class="s1">&#39;localhost:7001&#39;</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="s1">&#39;timeout&#39;</span> <span class="o">=&gt;</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s1">&#39;read_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s1">&#39;failover_mode&#39;</span> <span class="o">=&gt;</span> \<span class="n">RedisCluster</span><span class="p">::</span><span class="n">FAILOVER_ERROR</span><span class="p">,</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span>  <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Optional</span><span class="p">:</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">defined</span><span class="p">,</span> <span class="n">no</span> <span class="n">password</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
        <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Optional</span><span class="p">:</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">defined</span><span class="p">,</span> <span class="n">no</span> <span class="n">password</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span><span class="o">.</span>
        <span class="o">//</span> <span class="n">If</span> <span class="n">redis</span> <span class="ow">in</span><span class="o">-</span><span class="n">transit</span> <span class="n">encryption</span> <span class="ow">is</span> <span class="n">enabled</span><span class="p">,</span> <span class="n">provide</span> <span class="n">certificates</span>
        <span class="o">//</span> <span class="n">SSL</span> <span class="n">context</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">php</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">manual</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">context</span><span class="o">.</span><span class="n">ssl</span><span class="o">.</span><span class="n">php</span>
        <span class="s1">&#39;ssl_context&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;local_cert&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/redis.crt&#39;</span><span class="p">,</span>
                <span class="s1">&#39;local_pk&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/redis.key&#39;</span><span class="p">,</span>
                <span class="s1">&#39;cafile&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/certs/ca.crt&#39;</span>
        <span class="p">]</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Connection details for a Redis Cluster.</p>
<p>Redis Cluster support requires the php module phpredis in version 3.0.0 or
higher.</p>
<dl class="simple">
<dt>Available failover modes:</dt><dd><ul class="simple">
<li><p>\RedisCluster::FAILOVER_NONE - only send commands to master nodes (default)</p></li>
<li><p>\RedisCluster::FAILOVER_ERROR - failover to slaves for read commands if master is unavailable (recommended)</p></li>
<li><p>\RedisCluster::FAILOVER_DISTRIBUTE - randomly distribute read commands across master and slaves</p></li>
</ul>
</dd>
</dl>
<p>WARNING: FAILOVER_DISTRIBUTE is a not recommended setting, and we strongly
suggest to not use it if you use Redis for file locking. Due to the way Redis
is synchronized it could happen, that the read for an existing lock is
scheduled to a slave that is not fully synchronized with the connected master
which then causes a FileLocked exception.</p>
<p>See <a class="reference external" href="https://redis.io/topics/cluster-spec">https://redis.io/topics/cluster-spec</a> for details about the Redis cluster</p>
<p>Authentication works with phpredis version 4.2.1+. See
<a class="reference external" href="https://github.com/phpredis/phpredis/commit/c5994f2a42b8a348af92d3acb4edff1328ad8ce1">https://github.com/phpredis/phpredis/commit/c5994f2a42b8a348af92d3acb4edff1328ad8ce1</a></p>
</section>
<section id="memcached-servers">
<h3>memcached_servers<a class="headerlink" href="#memcached-servers" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;memcached_servers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="o">//</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">port</span> <span class="ow">and</span> <span class="n">optional</span> <span class="n">weight</span>
        <span class="o">//</span> <span class="ow">or</span> <span class="n">path</span> <span class="ow">and</span> <span class="n">port</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">unix</span> <span class="n">socket</span><span class="o">.</span> <span class="n">Also</span> <span class="n">see</span><span class="p">:</span>
        <span class="o">//</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">php</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">manual</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">memcached</span><span class="o">.</span><span class="n">addservers</span><span class="o">.</span><span class="n">php</span>
        <span class="o">//</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">php</span><span class="o">.</span><span class="n">net</span><span class="o">/</span><span class="n">manual</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">memcached</span><span class="o">.</span><span class="n">addserver</span><span class="o">.</span><span class="n">php</span>
        <span class="p">[</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="mi">11211</span><span class="p">],</span>
        <span class="o">//</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;other.host.local&#39;</span><span class="p">,</span> <span class="mi">11211</span><span class="p">),</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Server details for one or more memcached servers to use for memory caching.</p>
</section>
<section id="memcached-options">
<h3>memcached_options<a class="headerlink" href="#memcached-options" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;memcached_options&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="o">//</span> <span class="n">Set</span> <span class="n">timeouts</span> <span class="n">to</span> <span class="mi">50</span><span class="n">ms</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_CONNECT_TIMEOUT</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_RETRY_TIMEOUT</span> <span class="o">=&gt;</span>   <span class="mi">50</span><span class="p">,</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_SEND_TIMEOUT</span> <span class="o">=&gt;</span>    <span class="mi">50</span><span class="p">,</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_RECV_TIMEOUT</span> <span class="o">=&gt;</span>    <span class="mi">50</span><span class="p">,</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_POLL_TIMEOUT</span> <span class="o">=&gt;</span>    <span class="mi">50</span><span class="p">,</span>

        <span class="o">//</span> <span class="n">Enable</span> <span class="n">compression</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_COMPRESSION</span> <span class="o">=&gt;</span>          <span class="n">true</span><span class="p">,</span>

        <span class="o">//</span> <span class="n">Turn</span> <span class="n">on</span> <span class="n">consistent</span> <span class="n">hashing</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_LIBKETAMA_COMPATIBLE</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>

        <span class="o">//</span> <span class="n">Enable</span> <span class="n">Binary</span> <span class="n">Protocol</span>
        \<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_BINARY_PROTOCOL</span> <span class="o">=&gt;</span>      <span class="n">true</span><span class="p">,</span>

        <span class="o">//</span> <span class="n">Binary</span> <span class="n">serializer</span> <span class="n">vill</span> <span class="n">be</span> <span class="n">enabled</span> <span class="k">if</span> <span class="n">the</span> <span class="n">igbinary</span> <span class="n">PECL</span> <span class="n">module</span> <span class="ow">is</span> <span class="n">available</span>
        <span class="o">//</span>\<span class="n">Memcached</span><span class="p">::</span><span class="n">OPT_SERIALIZER</span> <span class="o">=&gt;</span> \<span class="n">Memcached</span><span class="p">::</span><span class="n">SERIALIZER_IGBINARY</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Connection options for memcached</p>
</section>
<section id="cache-path">
<h3>cache_path<a class="headerlink" href="#cache-path" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;cache_path&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Location of the cache folder, defaults to <code class="docutils literal notranslate"><span class="pre">data/$user/cache</span></code> where
<code class="docutils literal notranslate"><span class="pre">$user</span></code> is the current user. When specified, the format will change to
<code class="docutils literal notranslate"><span class="pre">$cache_path/$user</span></code> where <code class="docutils literal notranslate"><span class="pre">$cache_path</span></code> is the configured cache directory
and <code class="docutils literal notranslate"><span class="pre">$user</span></code> is the user.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="cache-chunk-gc-ttl">
<h3>cache_chunk_gc_ttl<a class="headerlink" href="#cache-chunk-gc-ttl" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;cache_chunk_gc_ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="p">,</span>
</pre></div>
</div>
<p>TTL of chunks located in the cache folder before they’re removed by
garbage collection (in seconds). Increase this value if users have
issues uploading very large files via the Nextcloud Client as upload isn’t
completed within one day.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">60*60*24</span></code> (1 day)</p>
</section>
</section>
<section id="using-object-store-with-nextcloud">
<h2>Using Object Store with Nextcloud<a class="headerlink" href="#using-object-store-with-nextcloud" title="Link to this heading"></a></h2>
<section id="objectstore">
<h3>objectstore<a class="headerlink" href="#objectstore" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;objectstore&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;OC</span><span class="se">\\</span><span class="s1">Files</span><span class="se">\\</span><span class="s1">ObjectStore</span><span class="se">\\</span><span class="s1">Swift&#39;</span><span class="p">,</span>
        <span class="s1">&#39;arguments&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="o">//</span> <span class="n">trystack</span> <span class="n">will</span> <span class="n">use</span> <span class="n">your</span> <span class="n">facebook</span> <span class="nb">id</span> <span class="k">as</span> <span class="n">the</span> <span class="n">username</span>
                <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;facebook100000123456789&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">trystack</span> <span class="n">dashboard</span> <span class="n">go</span> <span class="n">to</span> <span class="n">user</span> <span class="o">-&gt;</span> <span class="n">settings</span> <span class="o">-&gt;</span> <span class="n">API</span> <span class="n">Password</span> <span class="n">to</span>
                <span class="o">//</span> <span class="n">generate</span> <span class="n">a</span> <span class="n">password</span>
                <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Secr3tPaSSWoRdt7&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">must</span> <span class="n">already</span> <span class="n">exist</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">objectstore</span><span class="p">,</span> <span class="n">name</span> <span class="n">can</span> <span class="n">be</span> <span class="n">different</span>
                <span class="s1">&#39;container&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">prefix</span> <span class="n">to</span> <span class="n">prepend</span> <span class="n">to</span> <span class="n">the</span> <span class="n">fileid</span><span class="p">,</span> <span class="n">default</span> <span class="ow">is</span> <span class="s1">&#39;oid:urn:&#39;</span>
                <span class="s1">&#39;objectPrefix&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;oid:urn:&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">create</span> <span class="n">the</span> <span class="n">container</span> <span class="k">if</span> <span class="n">it</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="o">.</span> <span class="n">default</span> <span class="ow">is</span> <span class="n">false</span>
                <span class="s1">&#39;autocreate&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">required</span><span class="p">,</span> <span class="n">dev</span><span class="o">-/</span><span class="n">trystack</span> <span class="n">defaults</span> <span class="n">to</span> <span class="s1">&#39;RegionOne&#39;</span>
                <span class="s1">&#39;region&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;RegionOne&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">The</span> <span class="n">Identity</span> <span class="o">/</span> <span class="n">Keystone</span> <span class="n">endpoint</span>
                <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://8.21.28.222:5000/v2.0&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">uploadPartSize</span><span class="p">:</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">uploaded</span> <span class="n">chunks</span><span class="p">,</span> <span class="n">defaults</span> <span class="n">to</span> <span class="mi">524288000</span>
                <span class="s1">&#39;uploadPartSize&#39;</span> <span class="o">=&gt;</span> <span class="mi">524288000</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">required</span> <span class="n">on</span> <span class="n">dev</span><span class="o">-/</span><span class="n">trystack</span>
                <span class="s1">&#39;tenantName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;facebook100000123456789&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">dev</span><span class="o">-/</span><span class="n">trystack</span> <span class="n">uses</span> <span class="n">swift</span> <span class="n">by</span> <span class="n">default</span><span class="p">,</span> <span class="n">the</span> <span class="n">lib</span> <span class="n">defaults</span> <span class="n">to</span> <span class="s1">&#39;cloudFiles&#39;</span>
                <span class="o">//</span> <span class="k">if</span> <span class="n">omitted</span>
                <span class="s1">&#39;serviceName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;swift&#39;</span><span class="p">,</span>
                <span class="o">//</span> <span class="n">The</span> <span class="n">Interface</span> <span class="o">/</span> <span class="n">url</span> <span class="n">Type</span><span class="p">,</span> <span class="n">optional</span>
                <span class="s1">&#39;urlType&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;internal&#39;</span>
        <span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>This example shows how to configure Nextcloud to store all files in a
swift object storage.</p>
<p>It is important to note that Nextcloud in object store mode will expect
exclusive access to the object store container because it only stores the
binary data for each file. The metadata is currently kept in the local
database for performance reasons.</p>
<p>WARNING: The current implementation is incompatible with any app that uses
direct file IO and circumvents our virtual filesystem. That includes
Encryption and Gallery. Gallery will store thumbnails directly in the
filesystem and encryption will cause severe overhead because key files need
to be fetched in addition to any requested file.</p>
</section>
<section id="id2">
<h3>objectstore<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;objectstore&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;OC</span><span class="se">\\</span><span class="s1">Files</span><span class="se">\\</span><span class="s1">ObjectStore</span><span class="se">\\</span><span class="s1">Swift&#39;</span><span class="p">,</span>
        <span class="s1">&#39;arguments&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                <span class="s1">&#39;autocreate&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
                <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;swift&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;swift&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                        <span class="p">],</span>
                <span class="p">],</span>
                <span class="s1">&#39;scope&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                        <span class="s1">&#39;project&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;service&#39;</span><span class="p">,</span>
                                <span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
                                        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;default&#39;</span><span class="p">,</span>
                                <span class="p">],</span>
                        <span class="p">],</span>
                <span class="p">],</span>
                <span class="s1">&#39;tenantName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;service&#39;</span><span class="p">,</span>
                <span class="s1">&#39;serviceName&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;swift&#39;</span><span class="p">,</span>
                <span class="s1">&#39;region&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;regionOne&#39;</span><span class="p">,</span>
                <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://yourswifthost:5000/v3&#39;</span><span class="p">,</span>
                <span class="s1">&#39;bucket&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;nextcloud&#39;</span><span class="p">,</span>
        <span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>To use swift V3</p>
</section>
<section id="objectstore-multibucket-preview-distribution">
<h3>objectstore.multibucket.preview-distribution<a class="headerlink" href="#objectstore-multibucket-preview-distribution" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;objectstore.multibucket.preview-distribution&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>If this is set to true and a multibucket object store is configured then
newly created previews are put into 256 dedicated buckets.</p>
<p>Those buckets are named like the mulibucket version but with the postfix
<code class="docutils literal notranslate"><span class="pre">-preview-NUMBER</span></code> where NUMBER is between 0 and 255.</p>
<p>Keep in mind that only previews of files are put in there that don’t have
some already. Otherwise, the old bucket will be used.</p>
<p>To migrate existing previews to this new multibucket distribution of previews
use the occ command <code class="docutils literal notranslate"><span class="pre">preview:repair</span></code>. For now this will only migrate
previews that were generated before Nextcloud 19 in the flat
<code class="docutils literal notranslate"><span class="pre">appdata_INSTANCEID/previews/FILEID</span></code> folder structure.</p>
</section>
</section>
<section id="sharing">
<h2>Sharing<a class="headerlink" href="#sharing" title="Link to this heading"></a></h2>
<p>Global settings for Sharing</p>
<section id="sharing-managerfactory">
<h3>sharing.managerFactory<a class="headerlink" href="#sharing-managerfactory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.managerFactory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\OC\Share20\ProviderFactory&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Replaces the default Share Provider Factory. This can be utilized if
own or 3rdParty Share Providers are used that – for instance – use the
filesystem instead of the database to keep the share information.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">\OC\Share20\ProviderFactory</span></code></p>
</section>
<section id="sharing-enable-mail-link-password-expiration">
<h3>sharing.enable_mail_link_password_expiration<a class="headerlink" href="#sharing-enable-mail-link-password-expiration" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.enable_mail_link_password_expiration&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enables expiration for link share passwords sent by email (sharebymail).</p>
<p>The passwords will expire after the configured interval, the users can
still request a new one in the public link page.</p>
</section>
<section id="sharing-mail-link-password-expiration-interval">
<h3>sharing.mail_link_password_expiration_interval<a class="headerlink" href="#sharing-mail-link-password-expiration-interval" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.mail_link_password_expiration_interval&#39;</span> <span class="o">=&gt;</span> <span class="mi">3600</span><span class="p">,</span>
</pre></div>
</div>
<p>Expiration interval for passwords, in seconds.</p>
</section>
<section id="sharing-maxautocompleteresults">
<h3>sharing.maxAutocompleteResults<a class="headerlink" href="#sharing-maxautocompleteresults" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.maxAutocompleteResults&#39;</span> <span class="o">=&gt;</span> <span class="mi">25</span><span class="p">,</span>
</pre></div>
</div>
<p>Define max number of results returned by the search for auto-completion of
users, groups, etc. The value must not be lower than 0 (for unlimited).</p>
<p>If more, different sources are requested (e.g. different user backends; or
both users and groups), the value is applied per source and might not be
truncated after collecting the results. I.e. more results can appear than
configured here.</p>
<p>Default is 25.</p>
</section>
<section id="sharing-minsearchstringlength">
<h3>sharing.minSearchStringLength<a class="headerlink" href="#sharing-minsearchstringlength" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.minSearchStringLength&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
<p>Define the minimum length of the search string before we start auto-completion
Default is no limit (value set to 0)</p>
</section>
<section id="sharing-enable-share-accept">
<h3>sharing.enable_share_accept<a class="headerlink" href="#sharing-enable-share-accept" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.enable_share_accept&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to true to enable that internal shares need to be accepted by the users by default.</p>
<p>Users can change this for their account in their personal sharing settings</p>
</section>
<section id="sharing-force-share-accept">
<h3>sharing.force_share_accept<a class="headerlink" href="#sharing-force-share-accept" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.force_share_accept&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to true to enforce that internal shares need to be accepted</p>
</section>
<section id="sharing-allow-custom-share-folder">
<h3>sharing.allow_custom_share_folder<a class="headerlink" href="#sharing-allow-custom-share-folder" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.allow_custom_share_folder&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, to prevent users from setting a custom share_folder</p>
</section>
<section id="share-folder">
<h3>share_folder<a class="headerlink" href="#share-folder" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;share_folder&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Define a default folder for shared files and folders other than root.</p>
<p>Changes to this value will only have effect on new shares.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">/</span></code></p>
</section>
<section id="sharing-enable-share-mail">
<h3>sharing.enable_share_mail<a class="headerlink" href="#sharing-enable-share-mail" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.enable_share_mail&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, to stop sending a mail when users receive a share</p>
</section>
<section id="sharing-allow-disabled-password-enforcement-groups">
<h3>sharing.allow_disabled_password_enforcement_groups<a class="headerlink" href="#sharing-allow-disabled-password-enforcement-groups" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.allow_disabled_password_enforcement_groups&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to true to enable the feature to add exceptions for share password enforcement</p>
</section>
<section id="transferincomingshares">
<h3>transferIncomingShares<a class="headerlink" href="#transferincomingshares" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;transferIncomingShares&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Set to true to always transfer incoming shares by default
when running “occ files:transfer-ownership”.</p>
<p>Defaults to false, so incoming shares are not transferred if not specifically requested
by a command line argument.</p>
</section>
</section>
<section id="federated-cloud-sharing">
<h2>Federated Cloud Sharing<a class="headerlink" href="#federated-cloud-sharing" title="Link to this heading"></a></h2>
<section id="sharing-federation-allowselfsignedcertificates">
<h3>sharing.federation.allowSelfSignedCertificates<a class="headerlink" href="#sharing-federation-allowselfsignedcertificates" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sharing.federation.allowSelfSignedCertificates&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Allow self-signed certificates for federated shares</p>
</section>
</section>
<section id="hashing">
<h2>Hashing<a class="headerlink" href="#hashing" title="Link to this heading"></a></h2>
<section id="hashing-default-password">
<h3>hashing_default_password<a class="headerlink" href="#hashing-default-password" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hashing_default_password&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, Nextcloud will use the Argon2 password hashing if available.</p>
<p>However, if for whatever reason you want to stick with the PASSWORD_DEFAULT
of your php version. Then set the setting to true.</p>
<p>Nextcloud uses the Argon2 algorithm (with PHP &gt;= 7.2) to create hashes by its
own and exposes its configuration options as following. More information can
be found at: <a class="reference external" href="https://www.php.net/manual/en/function.password-hash.php">https://www.php.net/manual/en/function.password-hash.php</a></p>
</section>
<section id="hashingthreads">
<h3>hashingThreads<a class="headerlink" href="#hashingthreads" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hashingThreads&#39;</span> <span class="o">=&gt;</span> <span class="n">PASSWORD_ARGON2_DEFAULT_THREADS</span><span class="p">,</span>
</pre></div>
</div>
<p>The number of CPU threads to be used by the algorithm for computing a hash.</p>
<p>The value must be an integer, and the minimum value is 1. Rationally it does
not help to provide a number higher than the available threads on the machine.
Values that undershoot the minimum will be ignored in favor of the minimum.</p>
</section>
<section id="hashingmemorycost">
<h3>hashingMemoryCost<a class="headerlink" href="#hashingmemorycost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hashingMemoryCost&#39;</span> <span class="o">=&gt;</span> <span class="n">PASSWORD_ARGON2_DEFAULT_MEMORY_COST</span><span class="p">,</span>
</pre></div>
</div>
<p>The memory in KiB to be used by the algorithm for computing a hash. The value
must be an integer, and the minimum value is 8 times the number of CPU threads.</p>
<p>Values that undershoot the minimum will be ignored in favor of the minimum.</p>
</section>
<section id="hashingtimecost">
<h3>hashingTimeCost<a class="headerlink" href="#hashingtimecost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hashingTimeCost&#39;</span> <span class="o">=&gt;</span> <span class="n">PASSWORD_ARGON2_DEFAULT_TIME_COST</span><span class="p">,</span>
</pre></div>
</div>
<p>The number of iterations that are used by the algorithm for computing a hash.</p>
<p>The value must be an integer, and the minimum value is 1. Values that
undershoot the minimum will be ignored in favor of the minimum.</p>
</section>
<section id="hashingcost">
<h3>hashingCost<a class="headerlink" href="#hashingcost" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;hashingCost&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
</pre></div>
</div>
<p>The hashing cost used by hashes generated by Nextcloud
Using a higher value requires more time and CPU power to calculate the hashes</p>
</section>
</section>
<section id="all-other-configuration-options">
<h2>All other configuration options<a class="headerlink" href="#all-other-configuration-options" title="Link to this heading"></a></h2>
<section id="dbdriveroptions">
<h3>dbdriveroptions<a class="headerlink" href="#dbdriveroptions" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;dbdriveroptions&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="n">PDO</span><span class="p">::</span><span class="n">MYSQL_ATTR_SSL_CA</span> <span class="o">=&gt;</span> <span class="s1">&#39;/file/path/to/ca_cert.pem&#39;</span><span class="p">,</span>
        <span class="n">PDO</span><span class="p">::</span><span class="n">MYSQL_ATTR_SSL_KEY</span> <span class="o">=&gt;</span> <span class="s1">&#39;/file/path/to/mysql-client-key.pem&#39;</span><span class="p">,</span>
        <span class="n">PDO</span><span class="p">::</span><span class="n">MYSQL_ATTR_SSL_CERT</span> <span class="o">=&gt;</span> <span class="s1">&#39;/file/path/to/mysql-client-cert.pem&#39;</span><span class="p">,</span>
        <span class="n">PDO</span><span class="p">::</span><span class="n">MYSQL_ATTR_SSL_VERIFY_SERVER_CERT</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
        <span class="n">PDO</span><span class="p">::</span><span class="n">MYSQL_ATTR_INIT_COMMAND</span> <span class="o">=&gt;</span> <span class="s1">&#39;SET wait_timeout = 28800&#39;</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Additional driver options for the database connection, e.g. to enable SSL
encryption in MySQL or specify a custom wait timeout on a cheap hoster.</p>
<p>When setting up TLS/SSL for encrypting the connections, you need to ensure that
the passed keys and certificates are readable by the PHP process. In addition,
PDO::MYSQL_ATTR_SSL_VERIFY_SERVER_CERT might need to be set to false, if the
database servers certificates CN does not match with the hostname used to connect.
The standard behavior here is different from the MySQL/MariaDB CLI client, which
does not verify the server cert except –ssl-verify-server-cert is passed manually.</p>
</section>
<section id="sqlite-journal-mode">
<h3>sqlite.journal_mode<a class="headerlink" href="#sqlite-journal-mode" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;sqlite.journal_mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>sqlite3 journal mode can be specified using this configuration parameter -
can be ‘WAL’ or ‘DELETE’ see for more details <a class="reference external" href="https://www.sqlite.org/wal.html">https://www.sqlite.org/wal.html</a></p>
</section>
<section id="mysql-utf8mb4">
<h3>mysql.utf8mb4<a class="headerlink" href="#mysql-utf8mb4" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mysql.utf8mb4&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>During setup, if requirements are met (see below), this setting is set to true
and MySQL can handle 4 byte characters instead of 3 byte characters.</p>
<p>If you want to convert an existing 3-byte setup into a 4-byte setup please
set the parameters in MySQL as mentioned below and run the migration command:
./occ db:convert-mysql-charset
The config setting will be set automatically after a successful run.</p>
<p>Consult the documentation for more details.</p>
<p>MySQL requires a special setup for longer indexes (&gt; 767 bytes) which are
needed:</p>
<p>[mysqld]
innodb_large_prefix=ON
innodb_file_format=Barracuda
innodb_file_per_table=ON</p>
<dl class="simple">
<dt>Tables will be created with</dt><dd><ul class="simple">
<li><p>character set: utf8mb4</p></li>
<li><p>collation:     utf8mb4_bin</p></li>
<li><p>row_format:    dynamic</p></li>
</ul>
</dd>
</dl>
<p>See:
<a class="reference external" href="https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html">https://dev.mysql.com/doc/refman/5.7/en/charset-unicode-utf8mb4.html</a>
<a class="reference external" href="https://dev.mysql.com/doc/refman/5.7/en/innodb-parameters.html#sysvar_innodb_large_prefix">https://dev.mysql.com/doc/refman/5.7/en/innodb-parameters.html#sysvar_innodb_large_prefix</a>
<a class="reference external" href="https://mariadb.com/kb/en/mariadb/xtradbinnodb-server-system-variables/#innodb_large_prefix">https://mariadb.com/kb/en/mariadb/xtradbinnodb-server-system-variables/#innodb_large_prefix</a>
<a class="reference external" href="http://www.tocker.ca/2013/10/31/benchmarking-innodb-page-compression-performance.html">http://www.tocker.ca/2013/10/31/benchmarking-innodb-page-compression-performance.html</a>
<a class="reference external" href="http://mechanics.flite.com/blog/2014/07/29/using-innodb-large-prefix-to-avoid-error-1071/">http://mechanics.flite.com/blog/2014/07/29/using-innodb-large-prefix-to-avoid-error-1071/</a></p>
</section>
<section id="mysql-collation">
<h3>mysql.collation<a class="headerlink" href="#mysql-collation" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mysql.collation&#39;</span> <span class="o">=&gt;</span> <span class="n">null</span><span class="p">,</span>
</pre></div>
</div>
<p>For search queries in the database, a default collation – depending on the
character set – is chosen. In some cases a different behaviour is desired,
for instances when an accent sensitive search is desired.</p>
<p>MariaDB and MySQL have an overlap in available collations, but also
incompatible ones, also depending on the version of the database server.</p>
<p>This option allows to override the automatic choice. Example:</p>
<p>‘mysql.collation’ =&gt; ‘utf8mb4_0900_as_ci’,</p>
<p>This setting has no effect on setup or creating tables. In those cases
always utf8[mb4]_bin is being used. This setting is only taken into
consideration in SQL queries that utilize LIKE comparison operators.</p>
</section>
<section id="supporteddatabases">
<h3>supportedDatabases<a class="headerlink" href="#supporteddatabases" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;supportedDatabases&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;sqlite&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mysql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;pgsql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;oci&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Database types that are supported for installation.</p>
<dl class="simple">
<dt>Available:</dt><dd><ul class="simple">
<li><p>sqlite (SQLite3)</p></li>
<li><p>mysql (MySQL)</p></li>
<li><p>pgsql (PostgreSQL)</p></li>
<li><p>oci (Oracle)</p></li>
</ul>
</dd>
<dt>Defaults to the following databases:</dt><dd><ul class="simple">
<li><p>sqlite (SQLite3)</p></li>
<li><p>mysql (MySQL)</p></li>
<li><p>pgsql (PostgreSQL)</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tempdirectory">
<h3>tempdirectory<a class="headerlink" href="#tempdirectory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;tempdirectory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/tmp/nextcloudtemp&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Override where Nextcloud stores temporary files. Useful in situations where
the system temporary directory is on a limited space ramdisk or is otherwise
restricted, or if external storage which do not support streaming are in
use.</p>
<p>The Web server user/PHP must have write access to this directory.
Additionally you have to make sure that your PHP configuration considers this a valid
tmp directory, by setting the TMP, TMPDIR, and TEMP variables to the required directories.
On top of that you might be required to grant additional permissions in AppArmor or SELinux.</p>
</section>
<section id="updatedirectory">
<h3>updatedirectory<a class="headerlink" href="#updatedirectory" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;updatedirectory&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Override where Nextcloud stores update files while updating. Useful in situations
where the default <cite>datadirectory</cite> is on network disk like NFS, or is otherwise
restricted. Defaults to the value of <cite>datadirectory</cite> if unset.</p>
<p>If set, the value MUST be located _outside_ of the installation directory of Nextcloud and
writable by the Web server user.</p>
</section>
<section id="forbidden-filenames">
<h3>forbidden_filenames<a class="headerlink" href="#forbidden-filenames" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;forbidden_filenames&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;.htaccess&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>Block a specific file or files and disallow the upload of files with this name.</p>
<p>This blocks any access to those files (read and write).
<code class="docutils literal notranslate"><span class="pre">.htaccess</span></code> is blocked by default.</p>
<p>WARNING: USE THIS ONLY IF YOU KNOW WHAT YOU ARE DOING.</p>
<p>Note that this list is case-insensitive.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">array('.htaccess')</span></code></p>
</section>
<section id="forbidden-filename-basenames">
<h3>forbidden_filename_basenames<a class="headerlink" href="#forbidden-filename-basenames" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;forbidden_filename_basenames&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>Disallow the upload of files with specific basenames.</p>
<p>Matching existing files can no longer be updated and in matching folders no files can be created anymore.</p>
<p>The basename is the name of the file without the extension,
e.g. for “archive.tar.gz” the basename would be “archive”.</p>
<p>Note that this list is case-insensitive.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">array()</span></code></p>
</section>
<section id="forbidden-filename-characters">
<h3>forbidden_filename_characters<a class="headerlink" href="#forbidden-filename-characters" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;forbidden_filename_characters&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>Block characters from being used in filenames. This is useful if you
have a filesystem or OS which does not support certain characters like windows.</p>
<p>Matching existing files can no longer be updated and in matching folders no files can be created anymore.</p>
<p>The ‘/’ and ‘' characters are always forbidden, as well as all characters in the ASCII range [0-31].</p>
<p>Example for windows systems: <code class="docutils literal notranslate"><span class="pre">array('?',</span> <span class="pre">'&lt;',</span> <span class="pre">'&gt;',</span> <span class="pre">':',</span> <span class="pre">'*',</span> <span class="pre">'|',</span> <span class="pre">'&quot;')</span></code>
see <a class="reference external" href="https://en.wikipedia.org/wiki/Comparison_of_file_systems#Limits">https://en.wikipedia.org/wiki/Comparison_of_file_systems#Limits</a></p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">array()</span></code></p>
</section>
<section id="forbidden-filename-extensions">
<h3>forbidden_filename_extensions<a class="headerlink" href="#forbidden-filename-extensions" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;forbidden_filename_extensions&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;.part&#39;</span><span class="p">,</span> <span class="s1">&#39;.filepart&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>Deny extensions from being used for filenames.</p>
<p>Matching existing files can no longer be updated and in matching folders no files can be created anymore.</p>
<p>The ‘.part’ extension is always forbidden, as this is used internally by Nextcloud.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">array('.filepart',</span> <span class="pre">'.part')</span></code></p>
</section>
<section id="theme">
<h3>theme<a class="headerlink" href="#theme" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;theme&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If you are applying a theme to Nextcloud, enter the name of the theme here.</p>
<p>The default location for themes is <code class="docutils literal notranslate"><span class="pre">nextcloud/themes/</span></code>.</p>
<p>Defaults to the theming app which is shipped since Nextcloud 9</p>
</section>
<section id="enforce-theme">
<h3>enforce_theme<a class="headerlink" href="#enforce-theme" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;enforce_theme&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Enforce the user theme. This will disable the user theming settings
This must be a valid ITheme ID.</p>
<p>E.g. dark, dark-highcontrast, default, light, light-highcontrast, opendyslexic</p>
</section>
<section id="cipher">
<h3>cipher<a class="headerlink" href="#cipher" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AES-256-CTR&#39;</span><span class="p">,</span>
</pre></div>
</div>
<dl class="simple">
<dt>The default cipher for encrypting files. Currently supported are:</dt><dd><ul class="simple">
<li><p>AES-256-CTR</p></li>
<li><p>AES-128-CTR</p></li>
<li><p>AES-256-CFB</p></li>
<li><p>AES-128-CFB</p></li>
</ul>
</dd>
</dl>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">AES-256-CTR</span></code></p>
</section>
<section id="encryption-use-legacy-base64-encoding">
<h3>encryption.use_legacy_base64_encoding<a class="headerlink" href="#encryption-use-legacy-base64-encoding" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;encryption.use_legacy_base64_encoding&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Use the legacy base64 format for encrypted files instead of the more space-efficient
binary format. The option affects only newly written files, existing encrypted files
will not be touched and will remain readable whether they use the new format or not.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="minimum-supported-desktop-version">
<h3>minimum.supported.desktop.version<a class="headerlink" href="#minimum-supported-desktop-version" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;minimum.supported.desktop.version&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;2.7.0&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The minimum Nextcloud desktop client version that will be allowed to sync with
this server instance. All connections made from earlier clients will be denied
by the server. Defaults to the minimum officially supported Nextcloud desktop
client version at the time of release of this server version.</p>
<p>When changing this, note that older unsupported versions of the Nextcloud desktop
client may not function as expected, and could lead to permanent data loss for
clients or other unexpected results.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">2.7.0</span></code></p>
</section>
<section id="maximum-supported-desktop-version">
<h3>maximum.supported.desktop.version<a class="headerlink" href="#maximum-supported-desktop-version" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;maximum.supported.desktop.version&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;99.99.99&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The maximum Nextcloud desktop client version that will be allowed to sync with
this server instance. All connections made from later clients will be denied
by the server.</p>
<p>Defaults to 99.99.99</p>
</section>
<section id="localstorage-allowsymlinks">
<h3>localstorage.allowsymlinks<a class="headerlink" href="#localstorage-allowsymlinks" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;localstorage.allowsymlinks&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Option to allow local storage to contain symlinks.</p>
<p>WARNING: Not recommended. This would make it possible for Nextcloud to access
files outside the data directory and could be considered a security risk.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="localstorage-umask">
<h3>localstorage.umask<a class="headerlink" href="#localstorage-umask" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;localstorage.umask&#39;</span> <span class="o">=&gt;</span> <span class="mi">0022</span><span class="p">,</span>
</pre></div>
</div>
<p>Nextcloud overrides umask to ensure suitable access permissions
regardless of webserver/php-fpm configuration and worker state.</p>
<p>WARNING: Modifying this value has security implications and
may soft-break the installation.</p>
<p>Most installs shall not modify this value.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">0022</span></code></p>
</section>
<section id="localstorage-unlink-on-truncate">
<h3>localstorage.unlink_on_truncate<a class="headerlink" href="#localstorage-unlink-on-truncate" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;localstorage.unlink_on_truncate&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>This options allows storage systems that don’t allow to modify existing files
to overcome this limitation by removing the files before overwriting.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="quota-include-external-storage">
<h3>quota_include_external_storage<a class="headerlink" href="#quota-include-external-storage" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;quota_include_external_storage&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>EXPERIMENTAL: option whether to include external storage in quota
calculation, defaults to false.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="external-storage-auth-availability-delay">
<h3>external_storage.auth_availability_delay<a class="headerlink" href="#external-storage-auth-availability-delay" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;external_storage.auth_availability_delay&#39;</span> <span class="o">=&gt;</span> <span class="mi">1800</span><span class="p">,</span>
</pre></div>
</div>
<p>When an external storage is unavailable for some reasons, it will be flagged
as such for 10 minutes. When the trigger is a failed authentication attempt
the delay is higher and can be controlled with this option. The motivation
is to make account lock outs at Active Directories (and compatible) more
unlikely.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">1800</span></code> (seconds)</p>
</section>
<section id="files-external-allow-create-new-local">
<h3>files_external_allow_create_new_local<a class="headerlink" href="#files-external-allow-create-new-local" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;files_external_allow_create_new_local&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Allows to create external storages of type “Local” in the web interface and APIs.</p>
<p>When disabled, it is still possible to create local storages with occ using
the following command:</p>
<p>% php occ files_external:create /mountpoint local null::null -c datadir=/path/to/data</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="filesystem-check-changes">
<h3>filesystem_check_changes<a class="headerlink" href="#filesystem-check-changes" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;filesystem_check_changes&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
<p>Specifies how often the local filesystem (the Nextcloud data/ directory, and
NFS mounts in data/) is checked for changes made outside Nextcloud. This
does not apply to external storage.</p>
<p>0 -&gt; Never check the filesystem for outside changes, provides a performance
increase when it’s certain that no changes are made directly to the
filesystem</p>
<p>1 -&gt; Check each file or folder at most once per request, recommended for
general use if outside changes might happen.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</section>
<section id="part-file-in-storage">
<h3>part_file_in_storage<a class="headerlink" href="#part-file-in-storage" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;part_file_in_storage&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, Nextcloud will store the part files created during upload in the
same storage as the upload target. Setting this to false will store the part
files in the root of the users folder which might be required to work with certain
external storage setups that have limited rename capabilities.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="mount-file">
<h3>mount_file<a class="headerlink" href="#mount-file" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;mount_file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/var/www/nextcloud/data/mount.json&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">mount.json</span></code> file should be stored, defaults to <code class="docutils literal notranslate"><span class="pre">data/mount.json</span></code>
in the Nextcloud directory.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">data/mount.json</span></code> in the Nextcloud directory.</p>
</section>
<section id="filesystem-cache-readonly">
<h3>filesystem_cache_readonly<a class="headerlink" href="#filesystem-cache-readonly" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;filesystem_cache_readonly&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, prevent Nextcloud from changing the cache due to changes in
the filesystem for all storage.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="trusted-proxies">
<h3>trusted_proxies<a class="headerlink" href="#trusted-proxies" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;trusted_proxies&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;203.0.113.45&#39;</span><span class="p">,</span> <span class="s1">&#39;198.51.100.128&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.2.0/24&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>List of trusted proxy servers</p>
<p>You may set this to an array containing a combination of
- IPv4 addresses, e.g. <cite>192.168.2.123</cite>
- IPv4 ranges in CIDR notation, e.g. <cite>192.168.2.0/24</cite>
- IPv6 addresses, e.g. <cite>fd9e:21a7:a92c:2323::1</cite>
- IPv6 ranges in CIDR notation, e.g. <cite>2001:db8:85a3:8d3:1319:8a20::/95</cite></p>
<p>When an incoming request’s <cite>REMOTE_ADDR</cite> matches any of the IP addresses
specified here, it is assumed to be a proxy instead of a client. Thus, the
client IP will be read from the HTTP header specified in
<cite>forwarded_for_headers</cite> instead of from <cite>REMOTE_ADDR</cite>.</p>
<p>So if you configure <cite>trusted_proxies</cite>, also consider setting
<cite>forwarded_for_headers</cite> which otherwise defaults to <cite>HTTP_X_FORWARDED_FOR</cite>
(the <cite>X-Forwarded-For</cite> header).</p>
<p>Defaults to an empty array.</p>
</section>
<section id="forwarded-for-headers">
<h3>forwarded_for_headers<a class="headerlink" href="#forwarded-for-headers" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;forwarded_for_headers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;HTTP_X_FORWARDED&#39;</span><span class="p">,</span> <span class="s1">&#39;HTTP_FORWARDED_FOR&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>Headers that should be trusted as client IP address in combination with
<cite>trusted_proxies</cite>. If the HTTP header looks like ‘X-Forwarded-For’, then use
‘HTTP_X_FORWARDED_FOR’ here.</p>
<p>If set incorrectly, a client can spoof their IP address as visible to
Nextcloud, bypassing access controls and making logs useless!</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">'HTTP_X_FORWARDED_FOR'</span></code></p>
</section>
<section id="allowed-admin-ranges">
<h3>allowed_admin_ranges<a class="headerlink" href="#allowed-admin-ranges" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;allowed_admin_ranges&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;192.0.2.42/32&#39;</span><span class="p">,</span> <span class="s1">&#39;233.252.0.0/24&#39;</span><span class="p">,</span> <span class="s1">&#39;2001:db8::13:37/64&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>List of trusted IP ranges for admin actions</p>
<p>If this list is non-empty, all admin actions must be triggered from
IP addresses inside theses ranges.</p>
<p>Defaults to an empty array.</p>
</section>
<section id="max-filesize-animated-gifs-public-sharing">
<h3>max_filesize_animated_gifs_public_sharing<a class="headerlink" href="#max-filesize-animated-gifs-public-sharing" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;max_filesize_animated_gifs_public_sharing&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
</pre></div>
</div>
<p>max file size for animating gifs on public-sharing-site.</p>
<p>If the gif is bigger, it’ll show a static preview</p>
<p>Value represents the maximum filesize in megabytes. Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> for
no limit.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code> megabytes</p>
</section>
<section id="filelocking-ttl">
<h3>filelocking.ttl<a class="headerlink" href="#filelocking-ttl" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;filelocking.ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">,</span>
</pre></div>
</div>
<p>Set the lock’s time-to-live in seconds.</p>
<p>Any lock older than this will be automatically cleaned up.</p>
<dl class="simple">
<dt>Defaults to <code class="docutils literal notranslate"><span class="pre">60*60</span></code> seconds (1 hour) or the php</dt><dd><p>max_execution_time, whichever is higher.</p>
</dd>
</dl>
</section>
<section id="memcache-locking">
<h3>memcache.locking<a class="headerlink" href="#memcache-locking" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;memcache.locking&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">OC</span><span class="se">\\</span><span class="s1">Memcache</span><span class="se">\\</span><span class="s1">Redis&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Memory caching backend for file locking</p>
<p>Because most memcache backends can clean values without warning using redis
is highly recommended to <em>avoid data loss</em>.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">none</span></code></p>
</section>
<section id="filelocking-debug">
<h3>filelocking.debug<a class="headerlink" href="#filelocking-debug" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;filelocking.debug&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable locking debug logging</p>
<p>Note that this can lead to a very large volume of log items being written which can lead
to performance degradation and large log files on busy instance.</p>
<p>Thus enabling this in production for longer periods of time is not recommended
or should be used together with the <code class="docutils literal notranslate"><span class="pre">log.condition</span></code> setting.</p>
</section>
<section id="upgrade-disable-web">
<h3>upgrade.disable-web<a class="headerlink" href="#upgrade-disable-web" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;upgrade.disable-web&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Disable the web based updater</p>
</section>
<section id="upgrade-cli-upgrade-link">
<h3>upgrade.cli-upgrade-link<a class="headerlink" href="#upgrade-cli-upgrade-link" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;upgrade.cli-upgrade-link&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Allows to modify the cli-upgrade link in order to link to a different documentation</p>
</section>
<section id="documentation-url-server-logs">
<h3>documentation_url.server_logs<a class="headerlink" href="#documentation-url-server-logs" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;documentation_url.server_logs&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Allows to modify the exception server logs documentation link in order to link to a different documentation</p>
</section>
<section id="debug">
<h3>debug<a class="headerlink" href="#debug" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;debug&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Set this Nextcloud instance to debugging mode</p>
<p>Only enable this for local development and not in production environments
This will disable the minifier and outputs some additional debug information</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="data-fingerprint">
<h3>data-fingerprint<a class="headerlink" href="#data-fingerprint" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;data-fingerprint&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Sets the data-fingerprint of the current data served</p>
<p>This is a property used by the clients to find out if a backup has been
restored on the server. Once a backup is restored run
./occ maintenance:data-fingerprint
To set this to a new value.</p>
<p>Updating/Deleting this value can make connected clients stall until
the user has resolved conflicts.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">''</span></code> (empty string)</p>
</section>
<section id="copied-sample-config">
<h3>copied_sample_config<a class="headerlink" href="#copied-sample-config" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;copied_sample_config&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>This entry is just here to show a warning in case somebody copied the sample
configuration. DO NOT ADD THIS SWITCH TO YOUR CONFIGURATION!</p>
<p>If you, brave person, have read until here be aware that you should not
modify <em>ANY</em> settings in this file without reading the documentation.</p>
</section>
<section id="lookup-server">
<h3>lookup_server<a class="headerlink" href="#lookup-server" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;lookup_server&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;https://lookup.nextcloud.com&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>use a custom lookup server to publish user data</p>
</section>
<section id="gs-enabled">
<h3>gs.enabled<a class="headerlink" href="#gs-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;gs.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>set to true if the server is used in a setup based on Nextcloud’s Global Scale architecture</p>
</section>
<section id="gs-federation">
<h3>gs.federation<a class="headerlink" href="#gs-federation" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;gs.federation&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;internal&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>by default federation is only used internally in a Global Scale setup
If you want to allow federation outside your environment set it to ‘global’</p>
</section>
<section id="csrf-optout">
<h3>csrf.optout<a class="headerlink" href="#csrf-optout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;csrf.optout&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;/^WebDAVFS/&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">OS</span> <span class="n">X</span> <span class="n">Finder</span>
        <span class="s1">&#39;/^Microsoft-WebDAV-MiniRedir/&#39;</span><span class="p">,</span> <span class="o">//</span> <span class="n">Windows</span> <span class="n">webdav</span> <span class="n">drive</span>
<span class="p">],</span>
</pre></div>
</div>
<p>List of incompatible user agents opted out from Same Site Cookie Protection.</p>
<p>Some user agents are notorious and don’t really properly follow HTTP
specifications. For those, have an opt-out.</p>
<p>WARNING: only use this if you know what you are doing</p>
</section>
<section id="simplesignuplink-shown">
<h3>simpleSignUpLink.shown<a class="headerlink" href="#simplesignuplink-shown" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;simpleSignUpLink.shown&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, there is on public pages a link shown that allows users to
learn about the “simple sign up” - see <a class="reference external" href="https://nextcloud.com/signup/">https://nextcloud.com/signup/</a></p>
<p>If this is set to “false” it will not show the link.</p>
</section>
<section id="login-form-autocomplete">
<h3>login_form_autocomplete<a class="headerlink" href="#login-form-autocomplete" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;login_form_autocomplete&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>By default, autocompletion is enabled for the login form on Nextcloud’s login page.</p>
<p>While this is enabled, browsers are allowed to “remember” login names and such.
Some companies require it to be disabled to comply with their security policy.</p>
<p>Simply set this property to “false”, if you want to turn this feature off.</p>
</section>
<section id="login-form-timeout">
<h3>login_form_timeout<a class="headerlink" href="#login-form-timeout" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;login_form_timeout&#39;</span> <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span>
</pre></div>
</div>
<p>Timeout for the login form, after this time the login form is reset.</p>
<p>This prevents password leaks on public devices if the user forgots to clear the form.</p>
<p>Default is 5 minutes (300 seconds), a value of 0 means no timeout.</p>
</section>
<section id="no-unsupported-browser-warning">
<h3>no_unsupported_browser_warning<a class="headerlink" href="#no-unsupported-browser-warning" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;no_unsupported_browser_warning&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>If your user is using an outdated or unsupported browser, a warning will be shown
to offer some guidance to upgrade or switch and ensure a proper Nextcloud experience.</p>
<p>They can still bypass it after they have read the warning.</p>
<p>Simply set this property to “true”, if you want to turn this feature off.</p>
</section>
<section id="files-no-background-scan">
<h3>files_no_background_scan<a class="headerlink" href="#files-no-background-scan" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;files_no_background_scan&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Disable background scanning of files</p>
<p>By default, a background job runs every 10 minutes and execute a background
scan to sync filesystem and database. Only users with unscanned files
(size &lt; 0 in filecache) are included. Maximum 500 users per job.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="query-log-file">
<h3>query_log_file<a class="headerlink" href="#query-log-file" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;query_log_file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Log all queries into a file</p>
<p>Warning: This heavily decreases the performance of the server and is only
meant to debug/profile the query interaction manually.
Also, it might log sensitive data into a plain text file.</p>
</section>
<section id="redis-log-file">
<h3>redis_log_file<a class="headerlink" href="#redis-log-file" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;redis_log_file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Log all redis requests into a file</p>
<p>Warning: This heavily decreases the performance of the server and is only
meant to debug/profile the redis interaction manually.
Also, it might log sensitive data into a plain text file.</p>
</section>
<section id="diagnostics-logging">
<h3>diagnostics.logging<a class="headerlink" href="#diagnostics-logging" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;diagnostics.logging&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable diagnostics event logging</p>
<p>If enabled the timings of common execution steps will be logged to the
Nextcloud log at debug level. log.condition is useful to enable this on
production systems to only log under some conditions</p>
</section>
<section id="diagnostics-logging-threshold">
<h3>diagnostics.logging.threshold<a class="headerlink" href="#diagnostics-logging-threshold" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;diagnostics.logging.threshold&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
</pre></div>
</div>
<p>Limit diagnostics event logging to events longer than the configured threshold in ms</p>
<p>when set to 0 no diagnostics events will be logged</p>
</section>
<section id="profile-enabled">
<h3>profile.enabled<a class="headerlink" href="#profile-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;profile.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable profile globally</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="account-manager-default-property-scope">
<h3>account_manager.default_property_scope<a class="headerlink" href="#account-manager-default-property-scope" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;account_manager.default_property_scope&#39;</span> <span class="o">=&gt;</span> <span class="p">[],</span>
</pre></div>
</div>
<p>Allows to override the default scopes for Account data.</p>
<p>The list of overridable properties and valid values for scopes are in
<code class="docutils literal notranslate"><span class="pre">OCP\Accounts\IAccountManager</span></code>. Values added here are merged with
default values, which are in <code class="docutils literal notranslate"><span class="pre">OC\Accounts\AccountManager</span></code>.</p>
<p>For instance, if the phone property should default to the private scope
instead of the local one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  \<span class="n">OCP</span>\<span class="n">Accounts</span>\<span class="n">IAccountManager</span><span class="p">::</span><span class="n">PROPERTY_PHONE</span> <span class="o">=&gt;</span> \<span class="n">OCP</span>\<span class="n">Accounts</span>\<span class="n">IAccountManager</span><span class="p">::</span><span class="n">SCOPE_PRIVATE</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="projects-enabled">
<h3>projects.enabled<a class="headerlink" href="#projects-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;projects.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable the deprecated Projects feature,
superseded by Related resources as of Nextcloud 25</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="bulkupload-enabled">
<h3>bulkupload.enabled<a class="headerlink" href="#bulkupload-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;bulkupload.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable the bulk upload feature.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="reference-opengraph">
<h3>reference_opengraph<a class="headerlink" href="#reference-opengraph" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;reference_opengraph&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enables fetching open graph metadata from remote urls</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="unified-search-enabled">
<h3>unified_search.enabled<a class="headerlink" href="#unified-search-enabled" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;unified_search.enabled&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable use of old unified search</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</section>
<section id="enable-non-accessible-features">
<h3>enable_non-accessible_features<a class="headerlink" href="#enable-non-accessible-features" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;enable_non-accessible_features&#39;</span> <span class="o">=&gt;</span> <span class="n">true</span><span class="p">,</span>
</pre></div>
</div>
<p>Enable features that don’t respect accessibility standards yet.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</section>
<section id="binary-search-paths">
<h3>binary_search_paths<a class="headerlink" href="#binary-search-paths" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;binary_search_paths&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">&#39;/usr/local/sbin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/usr/local/bin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/usr/sbin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/usr/bin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/sbin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/bin&#39;</span><span class="p">,</span>
        <span class="s1">&#39;/opt/bin&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Directories where nextcloud looks for binaries.</p>
<p>This is used to find external binaries like libreoffice, sendmail, ffmpeg and more.</p>
<p>Defaults to <code class="docutils literal notranslate"><span class="pre">['/usr/local/sbin','/usr/local/bin','/usr/sbin','/usr/bin','/sbin','/bin','/opt/bin']</span></code></p>
</section>
<section id="files-chunked-upload-max-size">
<h3>files.chunked_upload.max_size<a class="headerlink" href="#files-chunked-upload-max-size" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;files.chunked_upload.max_size&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span>
</pre></div>
</div>
<p>The maximum chunk size to use for chunked uploads.</p>
<p>A bigger chunk size results in higher throughput, but above 100 MiB there are only diminishing returns,
while services like Cloudflare already limit to 100 MiB.</p>
<p>Defaults to 100 MiB.</p>
</section>
<section id="files-chunked-upload-max-parallel-count">
<h3>files.chunked_upload.max_parallel_count<a class="headerlink" href="#files-chunked-upload-max-parallel-count" title="Link to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;files.chunked_upload.max_parallel_count&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
</pre></div>
</div>
<p>The maximum number of chunks uploaded in parallel during chunked uploads.</p>
<p>A bigger count results in higher throughput, but will also consume more server workers,
while the improvements diminish.</p>
<p>Defaults to 5.</p>
</section>
</section>
<section id="app-config-options">
<h2>App config options<a class="headerlink" href="#app-config-options" title="Link to this heading"></a></h2>
<section id="activity-app">
<span id="label-activity-app-config"></span><h3>Activity app<a class="headerlink" href="#activity-app" title="Link to this heading"></a></h3>
<p>Retention for activities of the activity app:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;activity_expire_days&#39;</span> <span class="o">=&gt;</span> <span class="mi">365</span><span class="p">,</span>
</pre></div>
</div>
<p>Every day a cron job is ran, which deletes all activities for all users
which are older then the number of days that is set for <code class="docutils literal notranslate"><span class="pre">activity_expire_days</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;activity_use_cached_mountpoints&#39;</span> <span class="o">=&gt;</span> <span class="n">false</span><span class="p">,</span>
</pre></div>
</div>
<p>Before enabling this, read the warning in <a class="reference internal" href="activity_configuration.html#label-activities-groupfolders"><span class="std std-ref">Activities in groupfolders or external storages</span></a></p>
</section>
<section id="settings-app">
<h3>Settings app<a class="headerlink" href="#settings-app" title="Link to this heading"></a></h3>
<p>If an email address of a user is changed by an admin, then it triggers an email
to the user that states “Your email address on URL was changed by an
administrator.”. In some cases this should not be triggered, because it was a
normal maintenance change. To disable this specific email the appconfig option
<code class="docutils literal notranslate"><span class="pre">disable_email.email_address_changed_by_admin</span></code> can be set to <code class="docutils literal notranslate"><span class="pre">yes</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">occ</span> <span class="n">config</span><span class="p">:</span><span class="n">app</span><span class="p">:</span><span class="nb">set</span> <span class="n">settings</span> <span class="n">disable_activity</span><span class="o">.</span><span class="n">email_address_changed_by_admin</span> <span class="o">--</span><span class="n">value</span> <span class="n">yes</span>
</pre></div>
</div>
<p>To disable this behaviour change it to any other value or delete the app config:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">occ</span> <span class="n">config</span><span class="p">:</span><span class="n">app</span><span class="p">:</span><span class="n">delete</span> <span class="n">settings</span> <span class="n">disable_activity</span><span class="o">.</span><span class="n">email_address_changed_by_admin</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="security_setup_warnings.html" class="btn btn-neutral float-left" title="Warnings on admin page" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="activity_configuration.html" class="btn btn-neutral float-right" title="Activity app" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Nextcloud GmbH.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>