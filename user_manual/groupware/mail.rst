===================
Using the Mail app
===================

.. note:: The Mail app comes installed with Nextcloud Hub by default, but can be disabled.
          Please ask your Administrator for it.

.. figure:: images/mail.png

Managing your mail account
---------------------------

Add a new mail account
~~~~~~~~~~~~~~~~~~~~~~~

1. Enable mail app from the apps
2. Click the mail icon on the header
3. Fill up the login form (auto or manual)

.. figure:: images/new-mail-account.png

Scheduled messages
~~~~~~~~~~~~~~~~~~~
1. Click new message button on top left of your screen
2. Click the (...) action menu on the modal composer
3. Click *send later*

.. figure:: images/scheduled-msg.png

Priority inbox
~~~~~~~~~~~~~~~
Priority inbox has 2 section *Important* and *Others*.
Messages will automatically be marked as important based on which messages you interacted with or marked as important. In the beginning you might have to manually change the importance to teach the system, but it will improve over time.

.. figure:: images/priority-inbox.png

All inboxes
~~~~~~~~~~~~
All messages from all the accounts you have logged in, will be shown here chronologically.

Account settings
~~~~~~~~~~~~~~~~~
Your account settings such as:

1. Aliases
2. Signature
3. Default Folders
4. Autoresponder
5. Trusted server ect

Can be found in the action menu of a mail account. There you can edit, add or remove settings depending on your need.


Compose messages
----------------

1. Click new message on the top left of your screen
2. Start writing your message

Minimize the composer modal
~~~~~~~~~~~~~~~~~~~~~~~~~~~

   .. versionadded:: 3.2

The composer modal can be minimized while writing a new message, editing an existing draft or editing a message from the outbox. Simply click the minimize button on the top right of the modal or click anywhere outside the modal.

   .. figure:: images/mail-minimize-composer.png

You can resume your minimized message by clicking anywhere on the indicator on the bottom right of your screen.

   .. figure:: images/mail-composer-indicator.png

Press the close button on the modal or the indicator in the bottom right corner to stop editing a message. A draft will be saved automatically into your draft mailbox.


Mailbox actions
---------------

Add a mailbox
~~~~~~~~~~~~~~
1. Open the action menu of an account
2. Click add mailbox

Add a submailbox
~~~~~~~~~~~~~~~~~
1. Open the action menu of a mailbox
2. Click add submailbox

Shared mailbox
~~~~~~~~~~~~~~~
If a mailbox was shared with you with some specific rights, that mailbox will show as a new mailbox with a shared icon as below:

.. figure:: images/shared-mailbox-icon.png

Envelope actions
----------------

Create an event
~~~~~~~~~~~~~~~~
Create an event for a certain message/thread directly via mail app
1. Open action menu of an envelope
2. Click *more actions*
3. Click *create event*

Create a task
~~~~~~~~~~~~~

.. versionadded:: 3.2

Create an task for a certain message/thread directly via mail app
1. Open action menu of an envelope
2. Click *more actions*
3. Click *create task*

.. note:: Tasks are stored in supported calendars. If there is no compatible calendar you can create a new one with the :ref:`calendar app<calendar-app>`.

Edit tags
~~~~~~~~~~
1. Open action menu of an envelope
2. Click *Edit tags*
3. On the tags modal, set/unset tags


Message actions
---------------

Unsubscribe from a mailing list
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. versionadded:: 3.1

Some mailing lists and newsletters allow to be unsubscribed easily. If the Mail app detects messages from such a sender, it will show an *Unsubscribe* button next to the sender information. Click and confirm to unsubscribe from the list.
